*************************************************************

Copyright (c) 2014 by PANGO MICROSYSTEMS, INC
ALL RIGHTS RESERVED.

THE SOURCE CODE CONTAINED HEREIN IS PROPRIETARY TO PANGO MICROSYSTEMS, INC.
IT SHALL NOT BE REPRODUCED OR DISCLOSED IN WHOLE OR IN PART OR USED BY
PARTIES WITHOUT WRITTEN AUTHORIZATION FROM THE OWNER.

  Operator  [gopAPM32A_PG]

  Author    [Peifu Shen]

  Abstract  [P = XA * (YA +/- ZA) +/- XB * (YB +/- ZB) +/- P]

  Parameter []

  Revision History:
        GTP_MULTACC9
        GTP_MULTADDACC9
        V1.1 MODIFY FOR NOT UESED FLAG

***************************************************************************/

gate
operator gopAPM32A_PG
{
    parameter
    (
        bit CTRL_IRBYP_0_OP0 = 1'b1,
        bit CTRL_IRBYP_1_OP7 = 1'b1,
        bit CTRL_IRBYP_2_OPA = 1'b1,
        bit CTRL_IRBYP_3_OPB = 1'b1,
        bit CTRL_IRBYP_4_OP8 = 1'b1,
        bit CTRL_PRBYP_0_OP0 = 1'b1,
        bit CTRL_PRBYP_1_OP7 = 1'b1,
        bit CTRL_PRBYP_2_OP8 = 1'b1,
        bit IREG_SYNC = 1'b0,
        bit AREG_SYNC = 1'b0,
        bit MREG_SYNC = 1'b0,
        bit OREG_SYNC = 1'b0,
        bit IREG_BYP = 1'b0,
        bit AREG_BYP = 1'b0,
        bit MREG_BYP = 1'b0,
        bit OREG_BYP = 1'b0,
        int OP_PRAD_A = 0,
        int OP_PRAD_B = 0,
        bit SOURCEB[1:0] = 2'b00,
        bit SOURCEC[1:0] = 2'b00,
        bit IRB_SHFEN[1:0] = 2'b00,
        bit IRC_SHFEN[1:0] = 2'b00,
        string ALU_MODE = "DISABLE",
        bit IS_ACC = 1'b0,
        bit TERNARY = 1'b0,
        bit ALU_FLAGEN = 1'b0,
        bit OPCD_BYP[8:0] = 9'b000000_000,
        bit OPCD[10:0]         = 11'b0000_000_0000,
        bit OPCD_DYN_SEL[10:0] = 11'h000,
        bit OPCD_DYN_POL[10:0] = 11'h000,
        bit RTI    [31:0] = 32'h0000_0000,
        bit MCPAT  [31:0] = 32'h0000_0000,
        bit MASKPAT[31:0] = 32'h0000_0000,
        bit MASK01 [31:0] = 32'h0000_0000,
        bit OR2CASCADE_EN = 1'b0,
        bit GRS_DISABLED = 1'b0
    );

    port
    (
        input CLK /* pragma PAP_ARC_GOP_CTRL_PIN = "GCLK|RCLK"*/,
        input CE /* pragma PAP_ARC_GOP_CTRL_PIN = CE*/,
        input RST /* pragma PAP_ARC_GOP_CTRL_PIN = RST*/,
        input DXA[8:0],
        input DYA[8:0],
        input DZA[31:0],
        input DXA_SIGNED,
        input DYA_SIGNED,
        input DZA_SIGNED,
        input DXB[8:0],
        input DYB[8:0],
    //  input DZB[7:0],
        input DXB_SIGNED,
        input DYB_SIGNED,
    //  input DZB_SIGNED,
        input OP_IR_6,
        input OP_IR_5,
        input OP_PRAD[1:0],
        input OP_POST_7,
        input OP_POST_8,
        input OP_POST_6,
        input OP_POST_5,
        input OP_POST_4,
        input OP_POST_3,
        input OP_POST_1,
        output DP[31:0],
        input  CPI[31:0],
        input  CPI_SIGNED,
        output CPO[31:0],
        output CPO_SIGNED
    );
};

/**Implementation Body******************************************************

  Author    [Peifu Shen]

  Abstract  []

  Revision History:

***************************************************************************/
implementation impl_apm32a of gopAPM32A_PG
{
    bit SEL[1:0] = 2'b00; /* 2'b01; */
    bit ctir[7:0] = {CTRL_IRBYP_3_OPB ? 2'b00 : SEL, CTRL_IRBYP_2_OPA ? 2'b00 : SEL, (CTRL_IRBYP_4_OP8 & CTRL_IRBYP_1_OP7) ? 2'b00 : SEL, CTRL_IRBYP_0_OP0 ? 2'b00 : SEL};
    bit ctpr[3:0] = {(CTRL_PRBYP_2_OP8 & CTRL_PRBYP_1_OP7) ? 2'b00 : SEL, CTRL_PRBYP_0_OP0 ? 2'b00 : SEL};

    device devAPM32 gateDevApm32a
    parameter map
    (
        IR_BYP_0_XA  => IREG_BYP,
        IR_BYP_1_XA  => IREG_BYP,
        IR_BYP_2_YA  => IREG_BYP,
        IR_BYP_3_YA  => IREG_BYP,
        IR_BYP_4_ZA  => IREG_BYP,
        IR_BYP_5_ZA  => IREG_BYP,
        IR_BYP_6_ZA  => IREG_BYP,
        IR_BYP_7_XB  => IREG_BYP,
        IR_BYP_8_XB  => IREG_BYP,
        IR_BYP_9_YB  => IREG_BYP,
        IR_BYP_10_YB => IREG_BYP,
        IR_BYP_11_ZB => (OP_PRAD_B == 0) ? 1'b0 : IREG_BYP,
        IR_BYP_12_ZB => (OP_PRAD_B == 0) ? 1'b0 : IREG_BYP,
        CLK_IR_0_XA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_IR_1_XA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_IR_2_YA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_IR_3_YA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_IR_4_ZA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_IR_5_ZA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_IR_6_ZA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_IR_7_XB  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_IR_8_XB  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_IR_9_YB  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_IR_10_YB => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_IR_11_ZB => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_IR_12_ZB => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_0_XA   => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_1_XA   => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_2_YA   => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_3_YA   => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_4_ZA   => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_5_ZA   => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_6_ZA   => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_7_XB   => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_8_XB   => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_9_YB   => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_10_YB  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_11_ZB  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_IR_12_ZB  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_0_XA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_1_XA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_2_YA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_3_YA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_4_ZA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_5_ZA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_6_ZA  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_7_XB  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_8_XB  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_9_YB  => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_10_YB => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_11_ZB => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_IR_12_ZB => (IREG_BYP == 1'b1) ? 2'b00 : SEL,
        SYNC_IR_0_XA  => IREG_SYNC,
        SYNC_IR_1_XA  => IREG_SYNC,
        SYNC_IR_2_YA  => IREG_SYNC,
        SYNC_IR_3_YA  => IREG_SYNC,
        SYNC_IR_4_ZA  => IREG_SYNC,
        SYNC_IR_5_ZA  => IREG_SYNC,
        SYNC_IR_6_ZA  => IREG_SYNC,
        SYNC_IR_7_XB  => IREG_SYNC,
        SYNC_IR_8_XB  => IREG_SYNC,
        SYNC_IR_9_YB  => IREG_SYNC,
        SYNC_IR_10_YB => IREG_SYNC,
        SYNC_IR_11_ZB => (OP_PRAD_B == 0) ? 1'b0 : IREG_SYNC,
        SYNC_IR_12_ZB => (OP_PRAD_B == 0) ? 1'b0 : IREG_SYNC,
        PRADOR_BYP_0_XA => AREG_BYP,
        PRADOR_BYP_1_XA => AREG_BYP,
        PRADOR_BYP_2_YA => AREG_BYP,
        PRADOR_BYP_3_YA => AREG_BYP,
        PRADOR_BYP_4_XB => AREG_BYP,
        PRADOR_BYP_5_XB => AREG_BYP,
        PRADOR_BYP_6_YB => AREG_BYP,
        PRADOR_BYP_7_YB => AREG_BYP,
        CLK_PRAD_0_XA => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PRAD_1_XA => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PRAD_2_YA => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PRAD_3_YA => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PRAD_4_XB => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PRAD_5_XB => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PRAD_6_YB => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PRAD_7_YB => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PRAD_0_XA  => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PRAD_1_XA  => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PRAD_2_YA  => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PRAD_3_YA  => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PRAD_4_XB  => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PRAD_5_XB  => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PRAD_6_YB  => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PRAD_7_YB  => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PRAD_0_XA => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PRAD_1_XA => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PRAD_2_YA => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PRAD_3_YA => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PRAD_4_XB => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PRAD_5_XB => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PRAD_6_YB => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PRAD_7_YB => (AREG_BYP == 1'b1) ? 2'b00 : SEL,
        SYNC_PRAD_0_XA => AREG_SYNC,
        SYNC_PRAD_1_XA => AREG_SYNC,
        SYNC_PRAD_2_YA => AREG_SYNC,
        SYNC_PRAD_3_YA => AREG_SYNC,
        SYNC_PRAD_4_XB => AREG_SYNC,
        SYNC_PRAD_5_XB => AREG_SYNC,
        SYNC_PRAD_6_YB => AREG_SYNC,
        SYNC_PRAD_7_YB => AREG_SYNC,
        PR_BYP_0_MA => MREG_BYP,
        PR_BYP_2_MB => MREG_BYP,
        PR_BYP_4_XA => MREG_BYP,
        PR_BYP_5_XB => MREG_BYP,
        PR_BYP_6_YA => MREG_BYP,
        PR_BYP_7_YB => MREG_BYP,
        PR_BYP_8_ZA => MREG_BYP,
        PR_BYP_9_ZB => MREG_BYP,
        CLK_PR_0_MA => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PR_2_MB => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PR_4_XA => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PR_5_XB => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PR_6_YA => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PR_7_YB => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PR_8_ZA => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_PR_9_ZB => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PR_0_MA  => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PR_2_MB  => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PR_4_XA  => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PR_5_XB  => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PR_6_YA  => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PR_7_YB  => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PR_8_ZA  => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_PR_9_ZB  => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PR_0_MA => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PR_2_MB => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PR_4_XA => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PR_5_XB => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PR_6_YA => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PR_7_YB => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PR_8_ZA => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_PR_9_ZB => (MREG_BYP == 1'b1) ? 2'b00 : SEL,
        SYNC_PR_0_MA => MREG_SYNC,
        SYNC_PR_2_MB => MREG_SYNC,
        SYNC_PR_4_XA => MREG_SYNC,
        SYNC_PR_5_XB => MREG_SYNC,
        SYNC_PR_6_YA => MREG_SYNC,
        SYNC_PR_7_YB => MREG_SYNC,
        SYNC_PR_8_ZA => MREG_SYNC,
        SYNC_PR_9_ZB => MREG_SYNC,
        OR_BYP_0_A => OREG_BYP,
        OR_BYP_1_A => OREG_BYP,
        OR_BYP_3_B => OREG_BYP,
        CLK_OR_0_A => (OREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_OR_1_A => (OREG_BYP == 1'b1) ? 2'b00 : SEL,
        CLK_OR_3_B => (OREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_OR_0_A  => (OREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_OR_1_A  => (OREG_BYP == 1'b1) ? 2'b00 : SEL,
        CE_OR_3_B  => (OREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_OR_0_A => (OREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_OR_1_A => (OREG_BYP == 1'b1) ? 2'b00 : SEL,
        RST_OR_3_B => (OREG_BYP == 1'b1) ? 2'b00 : SEL,
        SYNC_OR_0_A => OREG_SYNC,
        SYNC_OR_1_A => OREG_SYNC,
        SYNC_OR_3_B => OREG_SYNC,
        CTRL_IRBYP_0_OP0 => CTRL_IRBYP_0_OP0,
        CTRL_IRBYP_1_OP7 => CTRL_IRBYP_1_OP7,
        CTRL_IRBYP_2_OPA => CTRL_IRBYP_2_OPA,
        CTRL_IRBYP_3_OPB => CTRL_IRBYP_3_OPB,
        CTRL_IRBYP_4_OP8 => CTRL_IRBYP_4_OP8,
        SYNC_CTIR => {4{IREG_SYNC}},
        CE_CTIR  => ctir,
        CLK_CTIR => ctir,
        RST_CTIR => ctir,
        CTRL_PRBYP_0_OP0 => CTRL_PRBYP_0_OP0,
        CTRL_PRBYP_1_OP7 => CTRL_PRBYP_1_OP7,
        CTRL_PRBYP_2_OP8 => CTRL_PRBYP_2_OP8,
        SYNC_CTPR => {2{MREG_SYNC}},
        CE_CTPR  => ctpr,
        CLK_CTPR => ctpr,
        RST_CTPR => ctpr,
        OP_PRAD_A => OP_PRAD_A,
        OP_PRAD_B => OP_PRAD_B,
        OP_MULT_A => 9,
        OP_MULT_B => 9,
        OPCD_BYP  => OPCD_BYP,
        OPCD         => OPCD,
        OPCD_DYN_SEL => OPCD_DYN_SEL,
        OPCD_DYN_POL => (OPCD_DYN_POL!=11'h0) ? OPCD_DYN_POL : OPCD_DYN_SEL,
        DXIA_SIGNED_POL => 1'b1,
        DYIA_SIGNED_POL => 1'b1,
        DZIA_SIGNED_POL => (OP_PRAD_A == 0) ? 1'b0 : 1'b1,
        DXIB_SIGNED_POL => 1'b1,
        DYIB_SIGNED_POL => 1'b1,
        DZIB_SIGNED_POL => (OP_PRAD_B == 0) ? 1'b0 : 1'b1,
        OP_PRAD_A_POL => (OP_PRAD_A == 0) ? 1'b0 : 1'b1,
        OP_PRAD_B_POL => (OP_PRAD_B == 0) ? 1'b0 : 1'b1,
        SOURCEB => SOURCEB,
        SOURCEC => SOURCEC,
        IRB_SHFEN => IRB_SHFEN,
        IRC_SHFEN => IRC_SHFEN,
        ALU_MODE => (ALU_MODE == "DISABLE") ? "DISABLE" : "ENABLE",
        TERNARY => TERNARY ? 1'b1 : (IS_ACC ? 1'b1 : 1'b0),
        ALU_MCPATSEL   => 1'b1, // IS_ACC ? 1'b1 : 1'b0,
        ALU_MASKPATSEL => 1'b1, // IS_ACC ? 1'b1 : 1'b0,
        ALU_FLAGEN => 1'b0,
        RTI     => {32'h0000_0000, RTI},
        MCPAT   => {32'hFFFF_FFFF, MCPAT},
        MASKPAT => {32'hFFFF_FFFF, MASKPAT},
        MASK01  => {33'h1FFFF_FFFF, MASK01},
        OR2CASCADE_EN => OR2CASCADE_EN,
        OR2CIM_EN_0_A => 1'b1,
        OR2CIM_EN_1_A => 1'b1,
        OR2CIM_EN_3_B => 1'b1,
        GRS_DIS => GRS_DISABLED
    )
    port map
    (
        CLK[0] => CLK,
        CE [0] => CE,
        RST[0] => RST,
        APM_OP_IR[6] => OP_IR_6,
        APM_OP_IR[5] => OP_IR_5,
        APM_OP_PRAD => OP_PRAD,
        APM_OP_POST[7] => OP_POST_7,
        APM_OP_POST[8] => OP_POST_8,
        APM_OP_POST[6] => OP_POST_6,
        APM_OP_POST[5] => OP_POST_5,
        APM_OP_POST[4] => OP_POST_4,
        APM_OP_POST[3] => OP_POST_3,
        APM_OP_POST[1] => OP_POST_1,
        DXIA => DXA,
        DYIA => DYA,
        DZIA => DZA,
        DXIA_SIGNED => DXA_SIGNED,
        DYIA_SIGNED => DYA_SIGNED,
        DZIA_SIGNED => DZA_SIGNED,
        DXIB => DXB,
        DYIB => DYB,
    //  DZIB => DZB,
        DXIB_SIGNED => DXB_SIGNED,
        DYIB_SIGNED => DYB_SIGNED,
    //  DZIB_SIGNED => DZB_SIGNED,
        DPO[31:0] => DP,
        CPI[31:0] => CPI,
        CPI_SIGNED => CPI_SIGNED,
        CPO[31:0] => CPO,
        CPO_SIGNED => CPO_SIGNED
    );
};

/**Implementation Body******************************************************

  Author    [Peifu Shen]

  Abstract  []

  Revision History:

***************************************************************************/
implementation impl_apm32b of gopAPM32A_PG
{
    device devAPM321 gateDevApm32b
    parameter map
    (
        IR_BYP_1_XA  => IREG_BYP,
        IR_BYP_3_YA  => IREG_BYP,
        IR_BYP_5_ZA  => IREG_BYP,
        IR_BYP_8_XB  => IREG_BYP,
        IR_BYP_10_YB => IREG_BYP,
        IR_BYP_12_ZB => (OP_PRAD_B == 0) ? 1'b0 : IREG_BYP,
        SYNC_IR_1_XA  => IREG_SYNC,
        SYNC_IR_3_YA  => IREG_SYNC,
        SYNC_IR_5_ZA  => IREG_SYNC,
        SYNC_IR_8_XB  => IREG_SYNC,
        SYNC_IR_10_YB => IREG_SYNC,
        SYNC_IR_12_ZB => (OP_PRAD_B == 0) ? 1'b0 : IREG_SYNC,
        PRADOR_BYP_1_XA => AREG_BYP,
        PRADOR_BYP_3_YA => AREG_BYP,
        PRADOR_BYP_5_XB => AREG_BYP,
        PRADOR_BYP_7_YB => AREG_BYP,
        SYNC_PRAD_1_XA => AREG_SYNC,
        SYNC_PRAD_3_YA => AREG_SYNC,
        SYNC_PRAD_5_XB => AREG_SYNC,
        SYNC_PRAD_7_YB => AREG_SYNC,
        PR_BYP_1_MA  => MREG_BYP,
        PR_BYP_3_MB  => MREG_BYP,
        PR_BYP_4_XA => MREG_BYP,
        PR_BYP_5_XB => MREG_BYP,
        PR_BYP_6_YA => MREG_BYP,
        PR_BYP_7_YB => MREG_BYP,
        PR_BYP_8_ZA => MREG_BYP,
        PR_BYP_9_ZB => MREG_BYP,
        SYNC_PR_1_MA => MREG_SYNC,
        SYNC_PR_3_MB => MREG_SYNC,
        SYNC_PR_4_XA => MREG_SYNC,
        SYNC_PR_5_XB => MREG_SYNC,
        SYNC_PR_6_YA => MREG_SYNC,
        SYNC_PR_7_YB => MREG_SYNC,
        SYNC_PR_8_ZA => MREG_SYNC,
        SYNC_PR_9_ZB => MREG_SYNC,
        OR_BYP_1_A  => OREG_BYP,
        OR_BYP_2_B  => OREG_BYP,
        OR_BYP_3_B  => OREG_BYP,
        SYNC_OR_2_B => OREG_SYNC,
        SYNC_OR_3_B => OREG_SYNC,
        CTRL_IRBYP_0_OP0 => CTRL_IRBYP_0_OP0,
        CTRL_IRBYP_1_OP7 => CTRL_IRBYP_1_OP7,
        CTRL_IRBYP_2_OPA => CTRL_IRBYP_2_OPA,
        CTRL_IRBYP_3_OPB => CTRL_IRBYP_3_OPB,
        CTRL_IRBYP_4_OP8 => CTRL_IRBYP_4_OP8,
        SYNC_CTIR => {4{IREG_SYNC}},
    //  CE_CTIR  => 8'h00,
    //  CLK_CTIR => 8'h00,
    //  RST_CTIR => 8'h00,
        CTRL_PRBYP_0_OP0 => CTRL_PRBYP_0_OP0,
        CTRL_PRBYP_1_OP7 => CTRL_PRBYP_1_OP7,
        CTRL_PRBYP_2_OP8 => CTRL_PRBYP_2_OP8,
        SYNC_CTPR => {2{MREG_SYNC}},
    //  CE_CTPR  => 4'h0,
    //  CLK_CTPR => 4'h0,
    //  RST_CTPR => 4'h0,
        OP_PRAD_A => OP_PRAD_A,
        OP_PRAD_B => OP_PRAD_B,
        OP_MULT_A => 9,
        OP_MULT_B => 9,
        OPCD_BYP  => OPCD_BYP,
        OPCD         => OPCD,
        OPCD_DYN_SEL => OPCD_DYN_SEL,
        OPCD_DYN_POL => (OPCD_DYN_POL!=11'h0) ? OPCD_DYN_POL : OPCD_DYN_SEL,
        DXIA_SIGNED_POL => 1'b1,
        DYIA_SIGNED_POL => 1'b1,
        DZIA_SIGNED_POL => (OP_PRAD_A == 0) ? 1'b0 : 1'b1,
        DXIB_SIGNED_POL => 1'b1,
        DYIB_SIGNED_POL => 1'b1,
        DZIB_SIGNED_POL => (OP_PRAD_B == 0) ? 1'b0 : 1'b1,
        OP_PRAD_A_POL => (OP_PRAD_A == 0) ? 1'b0 : 1'b1,
        OP_PRAD_B_POL => (OP_PRAD_B == 0) ? 1'b0 : 1'b1,
        SOURCEB => SOURCEB,
        SOURCEC => SOURCEC,
        IRB_SHFEN => IRB_SHFEN,
        IRC_SHFEN => IRC_SHFEN,
        ALU_MODE => (ALU_MODE == "DISABLE") ? "DISABLE" : "ENABLE",
        TERNARY => TERNARY ? 1'b1 : (IS_ACC ? 1'b1 : 1'b0),
        ALU_MCPATSEL   => 1'b1, // IS_ACC ? 1'b1 : 1'b0,
        ALU_MASKPATSEL => 1'b1, // IS_ACC ? 1'b1 : 1'b0,
        ALU_FLAGEN => 1'b0,
        RTI     => {RTI[30:0], 33'h00000_0000},
        OR2CASCADE_EN => OR2CASCADE_EN,
        OR2CIM_EN_1_A => 1'b1,
        OR2CIM_EN_2_B => 1'b1,
        OR2CIM_EN_3_B => 1'b1,
        GRS_DIS => GRS_DISABLED
    )
    port map
    (
        CLK[0] => CLK,
        CE [0] => CE,
        RST[0] => RST,
        APM_OP_IR[6] => OP_IR_6,
        APM_OP_IR[5] => OP_IR_5,
        APM_OP_PRAD => OP_PRAD,
        APM_OP_POST[7] => OP_POST_7,
        APM_OP_POST[8] => OP_POST_8,
        APM_OP_POST[6] => OP_POST_6,
        APM_OP_POST[5] => OP_POST_5,
        APM_OP_POST[4] => OP_POST_4,
        APM_OP_POST[3] => OP_POST_3,
        APM_OP_POST[1] => OP_POST_1,
        DXIA => DXA,
        DYIA => DYA,
    //  DZIA => DZB,          // dummy
        DXIA_SIGNED => DXA_SIGNED,
        DYIA_SIGNED => DYA_SIGNED,
    //  DZIA_SIGNED => DZB_SIGNED,  // dummy
        DXIB => DXB,
        DYIB => DYB,
        DZIB => {DZA[30:0], DZA[31]},
        DXIB_SIGNED => DXB_SIGNED,
        DYIB_SIGNED => DYB_SIGNED,
        DZIB_SIGNED => DZA_SIGNED,
        DPO[35:33] => DP[2:0],
        DPO[65:37] => DP[31:3],
        CPI[64:33] => CPI,
        CPI_SIGNED => CPI_SIGNED,
        CPO[64:33] => CPO,
        CPO_SIGNED => CPO_SIGNED
    );
};

