*************************************************************************
****************************************************************************************/
library work;
use pg2l_defs,pg2t330h_defs,pg2l_funcs_place,pg2l_funcs_connect_logic;

structure arch_nl connect_srb_vertical of PG2T330H
{
  connect_srb_vertical(0, L_SRB_TILES_X_R0, L_CLMS_TILES_X_R0, L_CLMA_TILES_X_R0, 
                          L_SRB_TILES_X_R0, L_CLMS_TILES_X_R0, L_CLMA_TILES_X_R0,
                          {0}, {0},  {0}, 0);

  connect_srb_vertical(0, L_SRB_TILES_X_R0, L_CLMS_TILES_X_R0, L_CLMA_TILES_X_R0,
                          L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1,
                          L_SRB_TILES_X_R0, L_CLMS_TILES_X_R0, L_CLMA_TILES_X_R0, 1);

  connect_srb_vertical(1, L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1, 
                          L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1,
                          L_SRB_TILES_X_R0, L_CLMS_TILES_X_R0, L_CLMA_TILES_X_R0, 0);

  connect_srb_vertical(1, L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1,
                          L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2,
                          L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1, 1);

  connect_srb_vertical(2, L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2, 
                          L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2,
                          L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1, 0);

  connect_srb_vertical(2, L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2,
                          L_SRB_TILES_X_R3_D, L_CLMS_TILES_X_R3_D, L_CLMA_TILES_X_R3_D,
                          L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2, 1);

  connect_srb_vertical(3, L_SRB_TILES_X_R3_D, L_CLMS_TILES_X_R3_D, L_CLMA_TILES_X_R3_D, 
                          L_SRB_TILES_X_R3_U, L_CLMS_TILES_X_R3_U, L_CLMA_TILES_X_R3_U,
                          L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2, 0);

  connect_srb_vertical(3, L_SRB_TILES_X_R3_U, L_CLMS_TILES_X_R3_U, L_CLMA_TILES_X_R3_U,
                          L_SRB_TILES_X_R4_D, L_CLMS_TILES_X_R4_D, L_CLMA_TILES_X_R4_D,
                          L_SRB_TILES_X_R3_D, L_CLMS_TILES_X_R3_D, L_CLMA_TILES_X_R3_D, 1);

  connect_srb_vertical(4, L_SRB_TILES_X_R4_D, L_CLMS_TILES_X_R4_D, L_CLMA_TILES_X_R4_D, 
                          L_SRB_TILES_X_R4_U, L_CLMS_TILES_X_R4_U, L_CLMA_TILES_X_R4_U,
                          L_SRB_TILES_X_R3_U, L_CLMS_TILES_X_R3_U, L_CLMA_TILES_X_R3_U, 0);

  connect_srb_vertical(4, L_SRB_TILES_X_R4_U, L_CLMS_TILES_X_R4_U, L_CLMA_TILES_X_R4_U, 
                          L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5,
                          L_SRB_TILES_X_R4_D, L_CLMS_TILES_X_R4_D, L_CLMA_TILES_X_R4_D, 1);

  connect_srb_vertical(5, L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5, 
                          L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5,
                          L_SRB_TILES_X_R4_U, L_CLMS_TILES_X_R4_U, L_CLMA_TILES_X_R4_U, 0);

  connect_srb_vertical(5, L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5, 
                          L_SRB_TILES_X_R6, L_CLMS_TILES_X_R6, L_CLMA_TILES_X_R6,
                          L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5, 1);

  connect_srb_vertical(6, L_SRB_TILES_X_R6, L_CLMS_TILES_X_R6, L_CLMA_TILES_X_R6, 
                          L_SRB_TILES_X_R6, L_CLMS_TILES_X_R6, L_CLMA_TILES_X_R6,
                          L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5, 0);

  connect_srb_vertical(6, L_SRB_TILES_X_R6, L_CLMS_TILES_X_R6, L_CLMA_TILES_X_R6,
                          {0}, {0},  {0},
                          L_SRB_TILES_X_R6, L_CLMS_TILES_X_R6, L_CLMA_TILES_X_R6, 1);


};//end of structure arch_nl connect_srb_vertical of PG2T330H
/***************************************************************************************
****************************************************************************************/
library work;
use pg2l_defs,pg2t330h_defs,pg2l_funcs_place,pg2l_funcs_connect_logic;

structure arch_nl connect_srb_horizontal of PG2T330H
{

  int w_srb = 2;
  int e_srb_r0 = NUM_TILE_X - 1;
  int e_srb_r1 = NUM_TILE_X - 1;
  int e_srb_r2 = NUM_TILE_X - 1;
  int e_srb_r3 = HSST_TILE_X;
  int e_srb_r4 = HSST_TILE_X;
  int e_srb_r5 = HSST_TILE_X;
  int e_srb_r6 = HSST_TILE_X;




  int tx_srbdrv_l = SRBCCSDRV_TILE_X - 1;
  int tx_srbdrv_r = 25;

  connect_srb_horizontal(0, L_SRB_TILES_X_R0, L_CLMS_TILES_X_R0, L_CLMA_TILES_X_R0, LOC_CCS_REGION, 
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r0, 0);

  connect_srb_horizontal(0, L_SRB_TILES_X_R0, L_CLMS_TILES_X_R0, L_CLMA_TILES_X_R0, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r0, 1);

  connect_srb_horizontal(1, L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r1, 0);

  connect_srb_horizontal(1, L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r1, 1);

  connect_srb_horizontal(2, L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r2, 0);

  connect_srb_horizontal(2, L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r2, 1);

  connect_srb_horizontal(3, L_SRB_TILES_X_R3_D, L_CLMS_TILES_X_R3_D, L_CLMA_TILES_X_R3_D, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r3, 0);

  connect_srb_horizontal(3, L_SRB_TILES_X_R3_U, L_CLMS_TILES_X_R3_U, L_CLMA_TILES_X_R3_U, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r3, 1);

  connect_srb_horizontal(4, L_SRB_TILES_X_R4_D, L_CLMS_TILES_X_R4_D, L_CLMA_TILES_X_R4_D, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r4, 0);

  connect_srb_horizontal(4, L_SRB_TILES_X_R4_U, L_CLMS_TILES_X_R4_U, L_CLMA_TILES_X_R4_U, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r4, 1);

  connect_srb_horizontal(5, L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r5, 0);

  connect_srb_horizontal(5, L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r5, 1);

  connect_srb_horizontal(6, L_SRB_TILES_X_R6, L_CLMS_TILES_X_R6, L_CLMA_TILES_X_R6, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r6, 0);

  connect_srb_horizontal(6, L_SRB_TILES_X_R6, L_CLMS_TILES_X_R6, L_CLMA_TILES_X_R6, LOC_CCS_REGION,
                         tx_srbdrv_l, tx_srbdrv_r, w_srb, e_srb_r6, 1);



};//end of structure arch_nl connect_srb_vertical of PG2T330H
/***************************************************************************************
****************************************************************************************/
library work;
use pg2l_defs,pg2t330h_defs,pg2l_funcs_place,pg2l_funcs_connect_logic;

structure arch_nl connect_srb_diagonal of PG2T330H
{

  int w_srb = 2;
  int e_srb = NUM_TILE_X - 1;
  int tx_srbdrv_l = SRBCCSDRV_TILE_X - 1;
  int tx_srbdrv_r = 25;


  connect_srb_diagonal(0, L_SRB_TILES_X_R0, L_CLMS_TILES_X_R0, L_CLMA_TILES_X_R0, w_srb, e_srb,
                          L_SRB_TILES_X_R0, L_CLMS_TILES_X_R0, L_CLMA_TILES_X_R0,
                          {0}, {0},  {0},
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 0);

  connect_srb_diagonal(0, L_SRB_TILES_X_R0, L_CLMS_TILES_X_R0, L_CLMA_TILES_X_R0, w_srb, e_srb,
                          L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1,
                          L_SRB_TILES_X_R0, L_CLMS_TILES_X_R0, L_CLMA_TILES_X_R0,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 1);

  connect_srb_diagonal(1, L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1, w_srb, e_srb,
                          L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1,
                          L_SRB_TILES_X_R0, L_CLMS_TILES_X_R0, L_CLMA_TILES_X_R0,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 0);

  connect_srb_diagonal(1, L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1, w_srb, e_srb,
                          L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2,
                          L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 1);

  connect_srb_diagonal(2, L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2, w_srb, e_srb,
                          L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2,
                          L_SRB_TILES_X_R1, L_CLMS_TILES_X_R1, L_CLMA_TILES_X_R1,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 0);

  connect_srb_diagonal(2, L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2, w_srb, e_srb,
                          L_SRB_TILES_X_R3_D, L_CLMS_TILES_X_R3_D, L_CLMA_TILES_X_R3_D,
                          L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 1);

  connect_srb_diagonal(3, L_SRB_TILES_X_R3_D, L_CLMS_TILES_X_R3_D, L_CLMA_TILES_X_R3_D, w_srb, e_srb,
                          L_SRB_TILES_X_R3_U, L_CLMS_TILES_X_R3_U, L_CLMA_TILES_X_R3_U,
                          L_SRB_TILES_X_R2, L_CLMS_TILES_X_R2, L_CLMA_TILES_X_R2,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 0);

  connect_srb_diagonal(3, L_SRB_TILES_X_R3_U, L_CLMS_TILES_X_R3_U, L_CLMA_TILES_X_R3_U, w_srb, e_srb,
                          L_SRB_TILES_X_R4_D, L_CLMS_TILES_X_R4_D, L_CLMA_TILES_X_R4_D,
                          L_SRB_TILES_X_R3_D, L_CLMS_TILES_X_R3_D, L_CLMA_TILES_X_R3_D,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 1);

  connect_srb_diagonal(4, L_SRB_TILES_X_R4_D, L_CLMS_TILES_X_R4_D, L_CLMA_TILES_X_R4_D, w_srb, e_srb,
                          L_SRB_TILES_X_R4_U, L_CLMS_TILES_X_R4_U, L_CLMA_TILES_X_R4_U,
                          L_SRB_TILES_X_R3_U, L_CLMS_TILES_X_R3_U, L_CLMA_TILES_X_R3_U,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 0);

  connect_srb_diagonal(4, L_SRB_TILES_X_R4_U, L_CLMS_TILES_X_R4_U, L_CLMA_TILES_X_R4_U, w_srb, e_srb,
                          L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5,
                          L_SRB_TILES_X_R4_D, L_CLMS_TILES_X_R4_D, L_CLMA_TILES_X_R4_D,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 1);

  connect_srb_diagonal(5, L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5, w_srb, e_srb,
                          L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5,
                          L_SRB_TILES_X_R4_U, L_CLMS_TILES_X_R4_U, L_CLMA_TILES_X_R4_U,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 0);

  connect_srb_diagonal(5, L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5, w_srb, e_srb,
                          L_SRB_TILES_X_R6, L_CLMS_TILES_X_R6, L_CLMA_TILES_X_R6,
                          L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 1);

  connect_srb_diagonal(6, L_SRB_TILES_X_R6, L_CLMS_TILES_X_R6, L_CLMA_TILES_X_R6, w_srb, e_srb,
                          L_SRB_TILES_X_R6, L_CLMS_TILES_X_R6, L_CLMA_TILES_X_R6,
                          L_SRB_TILES_X_R5, L_CLMS_TILES_X_R5, L_CLMA_TILES_X_R5,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 0);


  connect_srb_diagonal(6, L_SRB_TILES_X_R6, L_CLMS_TILES_X_R6, L_CLMA_TILES_X_R6, w_srb, e_srb,
                          {0}, {0},  {0},
                          L_SRB_TILES_X_R6, L_CLMS_TILES_X_R6, L_CLMA_TILES_X_R6,
                          LOC_CCS_REGION, tx_srbdrv_l, tx_srbdrv_r, 1);



};//end of structure arch_nl connect_srb_vertical of PG2T330H
/***************************************************************************************
****************************************************************************************/
library work;
use pg2l_defs,pg2t330h_defs,pg2l_funcs_place,pg2l_funcs_connect_logic;

structure arch_nl connect_CLM_TILES of PG2T330H
{
    unsigned int blank_y = CRAM_CTRL_TILE_Y;
    unsigned int max_y = 25;
    int tx_wl = CRAM_CTRL_TILE_X;

    unsigned int tx; 
    unsigned int loc_srb,flag_cas;

    foreach tx ( L_CLMS_TILES_X_R0 )
    {
      foreach loc_srb({0,1})
      {
        flag_cas = (loc_srb==0) ? 0 : 1;
        connect_clm_cascade(tx, 0, loc_srb, flag_cas, "CLMS_TILE");
      }
    }

    foreach tx ( L_CLMS_TILES_X_R1 )
    {
      foreach loc_srb({0,1})
      {
        flag_cas =   1;
        connect_clm_cascade(tx, 1, loc_srb, flag_cas, "CLMS_TILE");
      }
    }

    foreach tx ( L_CLMS_TILES_X_R2 )
    {
      foreach loc_srb({0,1})
      {
        flag_cas =  1;
        connect_clm_cascade(tx, 2, loc_srb, flag_cas, "CLMS_TILE");
      }
    }

    foreach tx ( L_CLMS_TILES_X_R3_D )
    {
      foreach loc_srb({0})
      {
        flag_cas =  1;
        connect_clm_cascade(tx, 3, loc_srb, flag_cas, "CLMS_TILE");
      }
    }

    foreach tx ( L_CLMS_TILES_X_R3_U )
    {
      foreach loc_srb({1})
      {
        flag_cas =  1;
        connect_clm_cascade(tx, 3, loc_srb, flag_cas, "CLMS_TILE");
      }
    }


    foreach tx ( L_CLMS_TILES_X_R4_D )
    {
      foreach loc_srb({0})
      {
        flag_cas = ((tx==14)||(tx==15)||(tx==16)||(tx==17)||(tx==20)||(tx==22)) ? 0 : 1;
        connect_clm_cascade(tx, 4, loc_srb, flag_cas, "CLMS_TILE");
      }
    }

    foreach tx ( L_CLMS_TILES_X_R4_U )
    {
      foreach loc_srb({1})
      {

        flag_cas = ((tx==92)||(tx==93)||(tx==96)) ? 0 : 1;
        connect_clm_cascade(tx, 4, loc_srb, flag_cas, "CLMS_TILE");

      }
    }

    foreach tx ( L_CLMS_TILES_X_R5 )
    {
      foreach loc_srb({0,1})
      {
        flag_cas =  1;
        connect_clm_cascade(tx, 5, loc_srb, flag_cas, "CLMS_TILE");
      }
    }

    foreach tx ( L_CLMS_TILES_X_R6 )
    {
      foreach loc_srb({0,1})
      {
        flag_cas =  1;
        connect_clm_cascade(tx, 6, loc_srb, flag_cas, "CLMS_TILE");
      }
    }


    foreach tx ( L_CLMA_TILES_X_R0 )
    {
      foreach loc_srb({0,1})
      {
        flag_cas = (loc_srb==0) ? 0 : 1;
        connect_clm_cascade(tx, 0, loc_srb, flag_cas, "CLMA_TILE");
      }
    }

    foreach tx ( L_CLMA_TILES_X_R1 )
    {
      foreach loc_srb({0,1})
      {
        flag_cas =   1;
        connect_clm_cascade(tx, 1, loc_srb, flag_cas, "CLMA_TILE");
      }
    }

    foreach tx ( L_CLMA_TILES_X_R2 )
    {
      foreach loc_srb({0,1})
      {
        flag_cas =  1;
        connect_clm_cascade(tx, 2, loc_srb, flag_cas, "CLMA_TILE");
      }
    }

    foreach tx ( L_CLMA_TILES_X_R3_D )
    {
      foreach loc_srb({0})
      {
        flag_cas =  1;
        connect_clm_cascade(tx, 3, loc_srb, flag_cas, "CLMA_TILE");
      }
    }

    foreach tx ( L_CLMA_TILES_X_R3_U )
    {
      foreach loc_srb({1})
      {
        flag_cas =  1;
        connect_clm_cascade(tx, 3, loc_srb, flag_cas, "CLMA_TILE");
      }
    }


    foreach tx ( L_CLMA_TILES_X_R4_D )
    {
      foreach loc_srb({0})
      {
        flag_cas = ((tx==18)||(tx==19)||(tx==21)||(tx==23)) ? 0 : 1;
        connect_clm_cascade(tx, 4, loc_srb, flag_cas, "CLMA_TILE");
      }
    }

    foreach tx ( L_CLMA_TILES_X_R4_U )
    {
      foreach loc_srb({1})
      {

        flag_cas = ((tx==94)||(tx==97)) ? 0 : 1;
        connect_clm_cascade(tx, 4, loc_srb, flag_cas, "CLMA_TILE");

      }
    }

    foreach tx ( L_CLMA_TILES_X_R5 )
    {
      foreach loc_srb({0,1})
      {
        flag_cas =  1;
        connect_clm_cascade(tx, 5, loc_srb, flag_cas, "CLMA_TILE");
      }
    }


    foreach tx ( L_CLMA_TILES_X_R6 )
    {
      foreach loc_srb({0,1})
      {
        flag_cas =  1;
        connect_clm_cascade(tx, 6, loc_srb, flag_cas, "CLMA_TILE");
      }
    }


    int rx,ty,ty_tmp;
    int l_ty[];
    int l_clms[];
    foreach rx({[0:6]})
    {
      foreach loc_srb({0,1})
      {
        l_ty = (loc_srb==0) ? {[0:24]} : {[26:50]};
        l_clms = ((rx==0)||(rx==1)||(rx==6)||(rx==5)) ? L_CLMS_TILES_X_R0 :
                           (rx==2) ? L_CLMS_TILES_X_R2 :
                           ((rx==3)&&(loc_srb==0)) ? L_CLMS_TILES_X_R3_D :
                           ((rx==3)&&(loc_srb==1)) ? L_CLMS_TILES_X_R3_U :
                           ((rx==4)&&(loc_srb==0)) ? L_CLMS_TILES_X_R4_D : L_CLMS_TILES_X_R4_U;
 
        foreach ty_tmp( l_ty )
        {
           ty = rx*NUM_TILES_REGION + ty_tmp;
           connect_mask_data_cascade(ty, l_clms, tx_wl, NUM_TILE_X);
        }
      }
    }

    foreach rx({[0:6]})
    {
       int tx_clms_l = ((rx==0)||(rx==1)||(rx==4)||(rx==5)||(rx==6)) ? CRAM_CTRL_TILE_X-2 : 12;
       int tx_clms_r = CRAM_CTRL_TILE_X+3;
       ty = rx*NUM_TILES_REGION + ty_tmp;
       connect_mask_data_output(rx, CRAM_CTRL_TILE_X, CRAM_CTRL_TILE_Y, tx_clms_l, tx_clms_r, "CRAM_CTRL_330H_TILE");
    }



};
/***************************************************************************************
****************************************************************************************/
library work;
use pg2l_defs,pg2t330h_defs,pg2l_funcs_place,pg2l_funcs_connect_logic;

structure arch_nl connect_apm_cascade of PG2T330H
{
    unsigned int rx, tx, ty, ty_tmp; 
    unsigned int num_rx = 7;

    foreach tx ( L_APM_TILES_X )
    {
      foreach rx({[0:6]})
      {
        foreach ty_tmp ( L_APM_TILES_Y )
        {
          ty = rx * NUM_TILES_REGION + ty_tmp;
          connect_apm_cascade(tx, ty, num_rx);
        }
      }
    }

}
/***************************************************************************************
****************************************************************************************/
library work;
use pg2l_defs,pg2t330h_defs,pg2l_funcs_place,pg2l_funcs_connect_logic;

structure arch_nl connect_drm_cascade of PG2T330H
{
    unsigned int tx,rx,loc_drm,flag_cas;
    unsigned int l_tx[];

    foreach rx ( {[0:6]} )
    {
      foreach loc_drm({0,1})
      {
        l_tx = (((rx==3)&&(loc_drm==1))||((rx==4)&&(loc_drm==0))) ? L_DRM_TILES_X_R3_U : L_DRM_TILES_X_R0;
        foreach tx(l_tx)
        {
          flag_cas = (((loc_drm==1)&&(tx==95)&&(rx==4))||((rx==0)&&(loc_drm==0))) ? 0 : 1;
          connect_drm_cascade(tx, rx, loc_drm, flag_cas);
        }
      }
    }
   
};// end of structure arch_nl connect_drm_cascade of PG2T330H
/***************************************************************************************
****************************************************************************************/

//library work;
//use pg2l_defs,pg2t330h_defs,pg2l_funcs_place,pg2l_funcs_connect_logic;
//
//structure arch_nl connect_srbccsdrv of PG2T330H
//{
//    unsigned int ty;
//
//    unsigned int tx_srb_l = SRBCCSDRV_TILE_X -1;
//    unsigned int tx_srb_r = 25;
//  
//    foreach ty(L_SRBCCSDRV_TILE_Y)
//    {
//      connect_srbccsdrv(SRBCCSDRV_TILE_X, ty, tx_srb_l, tx_srb_r, "CLMA_TILE", "SRB_TILE", "CLMS_TILE", "CLMS_TILE");
//    }
//   
//};// end of structure arch_nl connect_drm_cascade of PG2T330H
///***************************************************************************************
//****************************************************************************************/
