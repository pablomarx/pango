*******************************************************************

  Device    [CLMA]

  Author    [rjliu]

  Abstract  [The symbol definition. This will be the shape for CLMA in GUI for
             logic view of the device. The config_ports are not shown in this view]

  Revision History:

********************************************************************************/
symbol logsym of CLMA // pragma PAP_ARC_COLOR="128:64:106"
{
    // The bounding box
    generate ( 80 # 200 );

    //
    // Poloygon declaration
    //
    shape
    [ 0, 0 ]  ->  [ , 200 ]  <
   

                                CLK     @[ ,4+18],
                                RS      @[ ,6+18],
                                CE      @[ ,8+18],

                                M0      @[ ,10+38],
                                A0      @[ ,12+38],
                                A1      @[ ,14+38],
                                A2      @[ ,16+38],
                                A3      @[ ,18+38],
                                A4      @[ ,20+38],
                                A5      @[ ,22+38],
                                
                                M1      @[ ,26+58],
                                B0      @[ ,28+58],
                                B1      @[ ,30+58],
                                B2      @[ ,32+58],
                                B3      @[ ,34+58],
                                B4      @[ ,36+58],
                                B5      @[ ,38+58],
                                
                                M2      @[ ,42+78],
                                C0      @[ ,44+78],
                                C1      @[ ,46+78],
                                C2      @[ ,48+78],
                                C3      @[ ,50+78],
                                C4      @[ ,52+78],
                                C5      @[ ,54+78],
                                
                                M3      @[ ,58+98],
                                D0      @[ ,60+98],
                                D1      @[ ,62+98],
                                D2      @[ ,64+98],
                                D3      @[ ,66+98],
                                D4      @[ ,68+98],
                                D5      @[ ,70+98],
                                
                                CR0     @[ ,10 +170],
                                CR1     @[ ,8 +170],
                                CR2     @[ ,6 +170],
                                CR3     @[ ,4 +170],
 
                                
                                Q3      @[ ,42+140],
                                Q2      @[ ,44+140],
                                Q1      @[ ,46+140],
                                Q0      @[ ,48+140],
                                Y3      @[ ,50+140],
                                Y2      @[ ,52+140],
                                Y1      @[ ,54+140],
                                Y0      @[ ,56+140]                                
                            >

              ->  [ 80, ]   <
                                COUT    @[10, ],
                                CECO    @[30, ],
                                RSCO    @[50, ],
                                SRCO    @[70, ],
                                CLKO    @[75, ]
                            >

              ->  [ , 0]
              ->  [ 0, ]    <
                                CIN     @[10, ],
                                CECI    @[30, ],
                                RSCI    @[50, ],
                                SRCI    @[70, ]
                            >;

}; // end of symbol logsym of CLMA

/*******************************************************************************

  Device    [CLMA]

  Author    [rjliu]

  Abstract  [The schematic for CLMA]

  Revision History:

********************************************************************************/
schematic schm of CLMA
{
   // The bounding box
    generate ( 350 # 380 );

    //
    // Layout all symbols.
    //
    // Currently, the size of instance is made the same as its symbol
    // definition. This is becasue that the port location in symbol definition has been nicely
    // aligned. If no size is specified, the relative location of ports is preserved.

    //colum CLMS
    unsigned int FYA_X = 50 + 20;
    unsigned int FYA_Y = 50;
    unsigned int FYB_X = FYA_X;
    unsigned int FYB_Y = FYA_Y + 80;
    unsigned int FYC_X = FYA_X;
    unsigned int FYC_Y = FYA_Y + 160;
    unsigned int FYD_X = FYA_X;
    unsigned int FYD_Y = FYA_Y + 240;

    //colum FFAPP
    unsigned int FFAPP0_X = FYA_X + 170;
    unsigned int FFAPP0_Y = FYA_Y + 18;
    unsigned int FFAPP1_X = FFAPP0_X;
    unsigned int FFAPP1_Y = FFAPP0_Y + 80;
    unsigned int FFAPP2_X = FFAPP0_X;
    unsigned int FFAPP2_Y = FFAPP1_Y + 80;
    unsigned int FFAPP3_X = FFAPP0_X;
    unsigned int FFAPP3_Y = FFAPP2_Y + 80;

   //colum FF
    unsigned int FF0_X = FYA_X + 200;
    unsigned int FF0_Y = FYA_Y - 18;
    unsigned int FF1_X = FF0_X;
    unsigned int FF1_Y = FF0_Y + 80;
    unsigned int FF2_X = FF0_X;
    unsigned int FF2_Y = FF1_Y + 80;
    unsigned int FF3_X = FF0_X;
    unsigned int FF3_Y = FF2_Y + 80;

    device LUT6 ( symbol logsym ) FYA
        @[FYA_X,FYA_Y];

    device LUT6 ( symbol logsym ) FYB
        @[FYB_X,FYB_Y];

    device LUT6 ( symbol logsym ) FYC
        @[FYC_X,FYC_Y];

    device LUT6 ( symbol logsym ) FYD
         @[FYD_X,FYD_Y];

    device APPFF ( symbol logsym ) FFAPP0
        @[FFAPP0_X, FFAPP0_Y];

    device APPFF ( symbol logsym ) FFAPP1
        @[FFAPP1_X, FFAPP1_Y];

    device APPFF ( symbol logsym ) FFAPP2
        @[FFAPP2_X, FFAPP2_Y];

    device APPFF ( symbol logsym ) FFAPP3
        @[FFAPP3_X, FFAPP3_Y];

    device MAINFF ( symbol logsym ) FF0
        @[FF0_X, FF0_Y];

    device MAINFF ( symbol logsym ) FF1
        @[FF1_X, FF1_Y];

    device MAINFF ( symbol logsym ) FF2
        @[FF2_X, FF2_Y];

    device MAINFF ( symbol logsym ) FF3
        @[FF3_X, FF3_Y];


    unsigned int CLKPOLMUX_X = 45;
    unsigned int CLKPOLMUX_Y = 10;
    unsigned int LCEPOLMUX_X = CLKPOLMUX_X - 10;
    unsigned int LCEPOLMUX_Y = CLKPOLMUX_Y + 5;
    unsigned int LRSPOLMUX_X = LCEPOLMUX_X - 10;
    unsigned int LRSPOLMUX_Y = LCEPOLMUX_Y + 5;

    unsigned int Q0MUX_X = FYA_X + 120;
    unsigned int Q0MUX_Y = FYA_Y - 16;
    unsigned int Q1MUX_X = Q0MUX_X;
    unsigned int Q1MUX_Y = Q0MUX_Y + 80;
    unsigned int Q2MUX_X = Q0MUX_X;
    unsigned int Q2MUX_Y = Q1MUX_Y + 80;
    unsigned int Q3MUX_X = Q0MUX_X;
    unsigned int Q3MUX_Y = Q2MUX_Y + 80;

    unsigned int FFAPP0MUX_X = Q0MUX_X - 10;
    unsigned int FFAPP0MUX_Y = Q0MUX_Y + 26;
    unsigned int FFAPP1MUX_X = FFAPP0MUX_X;
    unsigned int FFAPP1MUX_Y = FFAPP0MUX_Y + 80;
    unsigned int FFAPP2MUX_X = FFAPP0MUX_X;
    unsigned int FFAPP2MUX_Y = FFAPP1MUX_Y + 80;
    unsigned int FFAPP3MUX_X = FFAPP0MUX_X;
    unsigned int FFAPP3MUX_Y = FFAPP2MUX_Y + 80;

    unsigned int CR0PREMUX_X = Q0MUX_X;
    unsigned int CR0PREMUX_Y = Q0MUX_Y + 48;
    unsigned int CR1PREMUX_X = CR0PREMUX_X;
    unsigned int CR1PREMUX_Y = CR0PREMUX_Y + 80;
    unsigned int CR2PREMUX_X = CR0PREMUX_X;
    unsigned int CR2PREMUX_Y = CR1PREMUX_Y + 80;
    unsigned int CR3PREMUX_X = CR0PREMUX_X;
    unsigned int CR3PREMUX_Y = CR2PREMUX_Y + 80;

    unsigned int CR0POSTMUX_X = FF0_X;
    unsigned int CR0POSTMUX_Y = FF0_Y + 52;
    unsigned int CR1POSTMUX_X = CR0POSTMUX_X;
    unsigned int CR1POSTMUX_Y = CR0POSTMUX_Y + 80;
    unsigned int CR2POSTMUX_X = CR0POSTMUX_X;
    unsigned int CR2POSTMUX_Y = CR1POSTMUX_Y + 80;
    unsigned int CR3POSTMUX_X = CR0POSTMUX_X;
    unsigned int CR3POSTMUX_Y = CR2POSTMUX_Y + 80;

    device CLK_POLMUX ( symbol logsym ) CLKPOLMUX
        @[CLKPOLMUX_X,CLKPOLMUX_Y];
    "o" @[(<pin DIN1 of <instance CLKPOLMUX>>)#|, <pin DIN1 of <instance CLKPOLMUX>>#-];   

    device LCE_POLMUX ( symbol logsym ) LCEPOLMUX
        @[LCEPOLMUX_X,LCEPOLMUX_Y];
     "1'b1" @[(<pin DIN2 of <instance LCEPOLMUX>>)#| - 3, <pin DIN2 of <instance LCEPOLMUX>>#-];
     "o" @[(<pin DIN1 of <instance LCEPOLMUX>>)#|, <pin DIN1 of <instance LCEPOLMUX>>#-];  

    device LRS_POLMUX ( symbol logsym ) LRSPOLMUX
        @[LRSPOLMUX_X,LRSPOLMUX_Y];
     "1'b0" @[(<pin DIN2 of <instance LRSPOLMUX>>)#| - 3, <pin DIN2 of <instance LRSPOLMUX>>#-];
     "o" @[(<pin DIN1 of <instance LRSPOLMUX>>)#|, <pin DIN1 of <instance LRSPOLMUX>>#-]; 

    device MUX2_P ( symbol logsym ) RSMUX
        @[200,30];

    device MUX2_P ( symbol logsym ) CEMUX
        @[215,25];

    device MUX2 ( symbol logsym ) L7ABMUX
        @[115,100];

    device MUX2 ( symbol logsym ) L7CDMUX
        @[115,260];

    device MUX2 ( symbol logsym ) L8MUX
        @[140,185];

    device QMUX ( symbol logsym ) Q0MUX
        @[Q0MUX_X, Q0MUX_Y];

    device QMUX ( symbol logsym ) Q1MUX
        @[Q1MUX_X, Q1MUX_Y];

    device QMUX ( symbol logsym ) Q2MUX
        @[Q2MUX_X, Q2MUX_Y];

    device QMUX ( symbol logsym ) Q3MUX
           @[Q3MUX_X, Q3MUX_Y];
    "1'b1" @[(<pin MF of <instance Q3MUX>>)#| - 5, <pin MF of <instance Q3MUX>>#-];

    device FFAPPMUX ( symbol logsym ) FFAPP0MUX
        @[FFAPP0MUX_X,FFAPP0MUX_Y];

    device FFAPPMUX ( symbol logsym ) FFAPP1MUX
        @[FFAPP1MUX_X,FFAPP1MUX_Y];

    device FFAPPMUX ( symbol logsym ) FFAPP2MUX
        @[FFAPP2MUX_X,FFAPP2MUX_Y];

    device FFAPPMUX ( symbol logsym ) FFAPP3MUX
        @[FFAPP3MUX_X,FFAPP3MUX_Y];

    device CRPREMUX ( symbol logsym ) CR0PREMUX
        @[CR0PREMUX_X,CR0PREMUX_Y];

    device CRPREMUX ( symbol logsym ) CR1PREMUX
        @[CR1PREMUX_X,CR1PREMUX_Y];

    device CRPREMUX ( symbol logsym ) CR2PREMUX
        @[CR2PREMUX_X,CR2PREMUX_Y];

    device CRPREMUX ( symbol logsym ) CR3PREMUX
           @[CR3PREMUX_X,CR3PREMUX_Y];
    "1'b1" @[(<pin MF of <instance CR3PREMUX>>)#| - 5, <pin MF of <instance CR3PREMUX>>#-];


    device CRPOSTMUX ( symbol logsym ) CR0POSTMUX
        @[CR0POSTMUX_X,CR0POSTMUX_Y];

    device CRPOSTMUX ( symbol logsym ) CR1POSTMUX
        @[CR1POSTMUX_X,CR1POSTMUX_Y];

    device CRPOSTMUX ( symbol logsym ) CR2POSTMUX
        @[CR2POSTMUX_X,CR2POSTMUX_Y];

    device CRPOSTMUX ( symbol logsym ) CR3POSTMUX
        @[CR3POSTMUX_X,CR3POSTMUX_Y];

    //
    // All device has been drawn. Now map the graphical object to the corresponding object
    // in the logic structure netlist
    //
    map (
            <instance FYA>         => <instance FYA         of device CLMA (structure netlist)> ,
            <instance FYB>         => <instance FYB         of device CLMA (structure netlist)> ,
            <instance FYC>         => <instance FYC         of device CLMA (structure netlist)> ,
            <instance FYD>         => <instance FYD         of device CLMA (structure netlist)> ,
            <instance FFAPP0>      => <instance FFAPP0      of device CLMA (structure netlist)> ,
            <instance FFAPP1>      => <instance FFAPP1      of device CLMA (structure netlist)> ,
            <instance FFAPP2>      => <instance FFAPP2      of device CLMA (structure netlist)> ,
            <instance FFAPP3>      => <instance FFAPP3      of device CLMA (structure netlist)> ,
            <instance FF0>         => <instance FF0         of device CLMA (structure netlist)> ,
            <instance FF1>         => <instance FF1         of device CLMA (structure netlist)> ,
            <instance FF2>         => <instance FF2         of device CLMA (structure netlist)> ,
            <instance FF3>         => <instance FF3         of device CLMA (structure netlist)> ,
            <instance CLKPOLMUX>   => <instance CLKPOLMUX   of device CLMA (structure netlist)> ,
            <instance LCEPOLMUX>   => <instance LCEPOLMUX    of device CLMA (structure netlist)> ,
            <instance LRSPOLMUX>   => <instance LRSPOLMUX    of device CLMA (structure netlist)> ,
            <instance RSMUX>       => <instance RSMUX        of device CLMA (structure netlist)> ,
            <instance CEMUX>       => <instance CEMUX       of device CLMA (structure netlist)> ,
            <instance L7ABMUX>       => <instance L7ABMUX        of device CLMA (structure netlist)> ,
            <instance L7CDMUX>       => <instance L7CDMUX     of device CLMA (structure netlist)> ,
            <instance L8MUX>       => <instance L8MUX     of device CLMA (structure netlist)> ,
            <instance Q0MUX>       => <instance Q0MUX     of device CLMA (structure netlist)> ,
            <instance Q1MUX>       => <instance Q1MUX    of device CLMA (structure netlist)> ,
            <instance Q2MUX>       => <instance Q2MUX    of device CLMA (structure netlist)> ,
            <instance Q3MUX>       => <instance Q3MUX    of device CLMA (structure netlist)> ,
            <instance FFAPP0MUX>   => <instance FFAPP0MUX     of device CLMA (structure netlist)> ,
            <instance FFAPP1MUX>   => <instance FFAPP1MUX    of device CLMA (structure netlist)> ,
            <instance FFAPP2MUX>   => <instance FFAPP2MUX     of device CLMA (structure netlist)> ,
            <instance FFAPP3MUX>   => <instance FFAPP3MUX    of device CLMA (structure netlist)> ,
            <instance CR0PREMUX>   => <instance CR0PREMUX    of device CLMA (structure netlist)> ,
            <instance CR1PREMUX>   => <instance CR1PREMUX    of device CLMA (structure netlist)> ,
            <instance CR2PREMUX>   => <instance CR2PREMUX    of device CLMA (structure netlist)> ,
            <instance CR3PREMUX>   => <instance CR3PREMUX    of device CLMA (structure netlist)> ,
            <instance CR0POSTMUX>   => <instance CR0POSTMUX    of device CLMA (structure netlist)> ,
            <instance CR1POSTMUX>   => <instance CR1POSTMUX    of device CLMA (structure netlist)> ,
            <instance CR2POSTMUX>   => <instance CR2POSTMUX    of device CLMA (structure netlist)> ,
            <instance CR3POSTMUX>   => <instance CR3POSTMUX    of device CLMA (structure netlist)>
        );


    //
    // Layout all ports.
    //
    // Since ports drive or are driven by pins of symbol instance, derive the port
    // location from those pins
    //

    unsigned int PORT_LEFT = 10;
    unsigned int PORT_BUTTOM = 10;
    unsigned int PORT_TOP = 360;
    unsigned int PORT_RIGHT = 330;

    //
    // Port left
    //

    port CLK  @[PORT_LEFT, <pin DIN0 of <instance CLKPOLMUX>>#-];
    port CE @[PORT_LEFT, <pin DIN0 of <instance LCEPOLMUX>>#-];
    port RS @[PORT_LEFT, <pin DIN0 of <instance LRSPOLMUX>>#-];


    unsigned int M0_PORT_Y = 45;
    unsigned int M1_PORT_Y = M0_PORT_Y + 80;
    unsigned int M2_PORT_Y = M1_PORT_Y + 80 - 25;
    unsigned int M3_PORT_Y = M2_PORT_Y + 80 + 30;

    port M0  @[PORT_LEFT, <pin MX of <instance Q0MUX>>#-];
    port M1  @[PORT_LEFT, <pin MX of <instance Q1MUX>>#-];
    port M2  @[PORT_LEFT, M2_PORT_Y];
    port M3  @[PORT_LEFT, <pin MX of <instance Q3MUX>>#-];

    port A0  @[PORT_LEFT, <pin A0 of <instance FYA>>#-];
    port A1  @[PORT_LEFT, <pin A1 of <instance FYA>>#-];
    port A2  @[PORT_LEFT, <pin A2 of <instance FYA>>#-];
    port A3  @[PORT_LEFT, <pin A3 of <instance FYA>>#-];
    port A4  @[PORT_LEFT, <pin A4 of <instance FYA>>#-];
    port A5  @[PORT_LEFT, <pin A5 of <instance FYA>>#-];

    port B0  @[PORT_LEFT, <pin A0 of <instance FYB>>#-];
    port B1  @[PORT_LEFT, <pin A1 of <instance FYB>>#-];
    port B2  @[PORT_LEFT, <pin A2 of <instance FYB>>#-];
    port B3  @[PORT_LEFT, <pin A3 of <instance FYB>>#-];
    port B4  @[PORT_LEFT, <pin A4 of <instance FYB>>#-];
    port B5  @[PORT_LEFT, <pin A5 of <instance FYB>>#-];


    port C0  @[PORT_LEFT, <pin A0 of <instance FYC>>#-];
    port C1  @[PORT_LEFT, <pin A1 of <instance FYC>>#-];
    port C2  @[PORT_LEFT, <pin A2 of <instance FYC>>#-];
    port C3  @[PORT_LEFT, <pin A3 of <instance FYC>>#-];
    port C4  @[PORT_LEFT, <pin A4 of <instance FYC>>#-];
    port C5  @[PORT_LEFT, <pin A5 of <instance FYC>>#-];

    port D0  @[PORT_LEFT, <pin A0 of <instance FYD>>#-];
    port D1  @[PORT_LEFT, <pin A1 of <instance FYD>>#-];
    port D2  @[PORT_LEFT, <pin A2 of <instance FYD>>#-];
    port D3  @[PORT_LEFT, <pin A3 of <instance FYD>>#-];
    port D4  @[PORT_LEFT, <pin A4 of <instance FYD>>#-];
    port D5  @[PORT_LEFT, <pin A5 of <instance FYD>>#-];


    //
    // Port bottom
    //
    port CIN  @[<pin CIN of <instance FYA>>#|, PORT_BUTTOM]; // pragma PAP_UI_ORIENTATION="SOUTH"

    port SRCI @[<pin SRQ of <instance Q0MUX>>#| - 10, PORT_BUTTOM]; // pragma PAP_UI_ORIENTATION="SOUTH"
    port RSCI @[<pin DI0 of <instance RSMUX>>#|, PORT_BUTTOM]; // pragma PAP_UI_ORIENTATION="SOUTH"
    port CECI @[<pin DI0 of <instance CEMUX>>#|, PORT_BUTTOM]; // pragma PAP_UI_ORIENTATION="SOUTH"

    //
    // Port top
    //
    port COUT @[<pin COUT of <instance FYD>>#|, PORT_TOP]; // pragma PAP_UI_ORIENTATION="NORTH"

    port SRCO @[FF0_X + 20, PORT_TOP]; // pragma PAP_UI_ORIENTATION="NORTH"
    port RSCO @[<pin DOUT of <instance RSMUX>>#|, PORT_TOP]; // pragma PAP_UI_ORIENTATION="NORTH"
    port CECO @[<pin DOUT of <instance CEMUX>>#|, PORT_TOP]; // pragma PAP_UI_ORIENTATION="NORTH"


    //
    // Port right
    //

    //port MASK_DATA_CIN
    //port MASK_DATA_COUT

    port Q0  @[PORT_RIGHT, <pin Q of <instance FF0>>#-];
    port Y0  @[PORT_RIGHT, <pin L6 of <instance FYA>>#- - 12];
    port CR0 @[PORT_RIGHT, <pin Q of <instance CR0POSTMUX>>#-];

    port Q1  @[PORT_RIGHT, <pin Q of <instance FF1>>#-];
    port Y1  @[PORT_RIGHT, <pin L6 of <instance FYB>>#- - 12];
    port CR1 @[PORT_RIGHT, <pin Q of <instance CR1POSTMUX>>#-];

    port Q2  @[PORT_RIGHT, <pin Q of <instance FF2>>#-];
    port Y2  @[PORT_RIGHT, <pin L6 of <instance FYC>>#- - 12];
    port CR2 @[PORT_RIGHT, <pin Q of <instance CR2POSTMUX>>#-];

    port Q3  @[PORT_RIGHT, <pin Q of <instance FF3>>#-];
    port Y3  @[PORT_RIGHT, <pin L6 of <instance FYD>>#- - 12];
    port CR3 @[PORT_RIGHT, <pin Q of <instance CR3POSTMUX>>#-];
    port CLKO @[PORT_RIGHT, <pin Y of <instance CLKPOLMUX>>#-];




    //
    // Layout all lines (wires in the logic netlist)
    //
    // The name of line is preceeded with "ln"
    //

    //line from port

    line lnCLK
        <port CLK> ->
         [<pin DIN0 of<instance CLKPOLMUX>>#| - 3 , ] ->
         <pin DIN0 of<instance CLKPOLMUX>>,
         [<pin DIN1 of<instance CLKPOLMUX>>#| - 3 , <port CLK> #-] ->
         [ , <pin DIN1 of<instance CLKPOLMUX>>#-] ->
         <pin DIN1 of<instance CLKPOLMUX>>;

    line lnCLKR
        <pin Y of <instance CLKPOLMUX>> ->
        [<pin Q of <instance FFAPP0>>#| + 3, ] ->
        [  , <pin CLK of <instance FF0>>#- -3] ->
        [<pin CLK of <instance FF0>>#|, ] ->
        <pin CLK of <instance FF0>>,

        [<pin Q of <instance FFAPP0>>#| + 3, <pin Y of <instance CLKPOLMUX>>#-] ->
        <port CLKO>,

        [<pin Q of <instance FFAPP0>>#| + 3, <pin CLK of <instance FF0>>#- -3] ->
        [ , <pin CLK of <instance FFAPP0>>#- -3] ->
        [<pin CLK of <instance FFAPP0>>#|, ] ->
        <pin CLK of <instance FFAPP0>>,

        [<pin Q of <instance FFAPP0>>#| + 3 , <pin CLK of <instance FFAPP0>>#- -3] ->
        [  , <pin CLK of <instance FF1>>#- -3] ->
        [<pin CLK of <instance FF1>>#|, ] ->
        <pin CLK of <instance FF1>>,

        [<pin Q of <instance FFAPP0>>#| + 3, <pin CLK of <instance FF1>>#- -3] ->
        [ , <pin CLK of <instance FFAPP1>>#- -3] ->
        [<pin CLK of <instance FFAPP1>>#|, ] ->
        <pin CLK of <instance FFAPP1>>,

        [<pin Q of <instance FFAPP0>>#| + 3 , <pin CLK of <instance FFAPP1>>#- -3] ->
        [  , <pin CLK of <instance FF2>>#- -3] ->
        [<pin CLK of <instance FF2>>#|, ] ->
        <pin CLK of <instance FF2>>,

        [<pin Q of <instance FFAPP0>>#| + 3, <pin CLK of <instance FF2>>#- -3] ->
        [ , <pin CLK of <instance FFAPP2>>#- -3] ->
        [<pin CLK of <instance FFAPP2>>#|, ] ->
        <pin CLK of <instance FFAPP2>>,

        [<pin Q of <instance FFAPP0>>#| + 3 , <pin CLK of <instance FFAPP2>>#- -3] ->
        [  , <pin CLK of <instance FF3>>#- -3] ->
        [<pin CLK of <instance FF3>>#|, ] ->
        <pin CLK of <instance FF3>>,

        [<pin Q of <instance FFAPP0>>#| + 3, <pin CLK of <instance FF3>>#- -3] ->
        [ , <pin CLK of <instance FFAPP3>>#- -3] ->
        [<pin CLK of <instance FFAPP3>>#|, ] ->
        <pin CLK of <instance FFAPP3>>;


    line lnCE
        <port CE> ->
        [<pin DIN0 of<instance LCEPOLMUX>>#| - 3 , <port CE> #-] ->
        <pin DIN0 of<instance LCEPOLMUX>>,
        [<pin DIN1 of<instance LCEPOLMUX>>#| - 3 , <port CE> #-] ->
         [ , <pin DIN1 of<instance LCEPOLMUX>>#-] ->
         <pin DIN1 of<instance LCEPOLMUX>>;

    line lnCE_P
        <pin Y of <instance LCEPOLMUX>> ->
        [<pin DI1 of <instance CEMUX>>#|, ] ->
        <pin DI1 of <instance CEMUX>>;

    line lnCECI
        <port CECI> -> <pin DI0 of<instance CEMUX>>;

    line lnCECO
        <pin DOUT of <instance CEMUX>> ->
        [ , <pin CE of <instance FF0>>#-] ->
        [ , <pin CE of <instance FFAPP0>>#-] ->
        [ , <pin CE of <instance FF1>>#-] ->
        [ , <pin CE of <instance FFAPP1>>#-] ->
        [ , <pin CE of <instance FF2>>#-] ->
        [ , <pin CE of <instance FFAPP2>>#-] ->
        [ , <pin CE of <instance FF3>>#-] ->
        [ , <pin CE of <instance FFAPP3>>#-] ->
        <pin CE of <instance FFAPP3>> ,

        [<pin DOUT of <instance CEMUX>>#|, <pin CE of <instance FF0>>#-] ->
        <pin CE of <instance FF0>>,

        [<pin DOUT of <instance CEMUX>>#|, <pin CE of <instance FFAPP0>>#-] ->
        <pin CE of <instance FFAPP0>>,

        [<pin DOUT of <instance CEMUX>>#|, <pin CE of <instance FF1>>#-] ->
        <pin CE of <instance FF1>>,

        [<pin DOUT of <instance CEMUX>>#|, <pin CE of <instance FFAPP1>>#-] ->
        <pin CE of <instance FFAPP1>>,

        [<pin DOUT of <instance CEMUX>>#|, <pin CE of <instance FF2>>#-] ->
        <pin CE of <instance FF2>>,

        [<pin DOUT of <instance CEMUX>>#|, <pin CE of <instance FFAPP2>>#-] ->
        <pin CE of <instance FFAPP2>>,

        [<pin DOUT of <instance CEMUX>>#|, <pin CE of <instance FF3>>#-] ->
        <pin CE of <instance FF3>>,

        [<pin DOUT of <instance CEMUX>>#|, <pin CE of <instance FFAPP3>>#-] ->
        <port CECO>;


    line lnRS
        <port RS> ->
        [<pin DIN0 of<instance LRSPOLMUX>>#| - 3 , <port RS> #-] ->
         <pin DIN0 of<instance LRSPOLMUX>>,
         [<pin DIN1 of<instance LRSPOLMUX>>#| - 3 , <port RS> #-] ->
         [ , <pin DIN1 of<instance LRSPOLMUX>>#-] ->
         <pin DIN1 of<instance LRSPOLMUX>>;


    line lnRS_P
        <pin Y of <instance LRSPOLMUX>> ->
        [<pin DI1 of <instance RSMUX>>#|, ] ->
        <pin DI1 of <instance RSMUX>>;

    line lnRSCI
        <port RSCI> -> <pin DI0 of<instance RSMUX>>;

    line lnSRCI
        <port SRCI> ->
        [ , <pin SRQ of<instance Q0MUX>>#-] ->
        <pin SRQ of<instance Q0MUX>>;

    line lnRSCO
        <pin DOUT of <instance RSMUX>> ->
        [ , <pin RS of <instance FF0>>#-] ->
        [ , <pin RS of <instance FFAPP0>>#-] ->
        [ , <pin RS of <instance FF1>>#-] ->
        [ , <pin RS of <instance FFAPP1>>#-] ->
        [ , <pin RS of <instance FF2>>#-] ->
        [ , <pin RS of <instance FFAPP2>>#-] ->
        [ , <pin RS of <instance FF3>>#-] ->
        [ , <pin RS of <instance FFAPP3>>#-] ->
        <pin RS of <instance FFAPP3>> ,

        [<pin DOUT of <instance RSMUX>>#|, <pin RS of <instance FF0>>#-] ->
        <pin RS of <instance FF0>>,

        [<pin DOUT of <instance RSMUX>>#|, <pin RS of <instance FFAPP0>>#-] ->
        <pin RS of <instance FFAPP0>>,

        [<pin DOUT of <instance RSMUX>>#|, <pin RS of <instance FF1>>#-] ->
        <pin RS of <instance FF1>>,

        [<pin DOUT of <instance RSMUX>>#|, <pin RS of <instance FFAPP1>>#-] ->
        <pin RS of <instance FFAPP1>>,

        [<pin DOUT of <instance RSMUX>>#|, <pin RS of <instance FF2>>#-] ->
        <pin RS of <instance FF2>>,

        [<pin DOUT of <instance RSMUX>>#|, <pin RS of <instance FFAPP2>>#-] ->
        <pin RS of <instance FFAPP2>>,

        [<pin DOUT of <instance RSMUX>>#|, <pin RS of <instance FF3>>#-] ->
        <pin RS of <instance FF3>>,

       [<pin DOUT of <instance RSMUX>>#|, <pin RS of <instance FFAPP3>>#-] ->
        <port RSCO>;


    line lnM0
        <port M0> ->
        [<pin SEL of <instance L7ABMUX>>#|, ] ->
        <pin MX of <instance Q0MUX>>,

        [<pin SEL of <instance L7ABMUX>>#|, <port M0>#-]->
        [ , <pin MX of <instance FFAPP0MUX>>#-]->
        <pin MX of <instance FFAPP0MUX>>,

        [<pin SEL of <instance L7ABMUX>>#|, <pin MX of <instance FFAPP0MUX>>#-] ->
        [ , <pin MX of <instance CR0PREMUX>>#-] ->
        <pin MX of <instance CR0PREMUX>>,

       [<pin SEL of <instance L7ABMUX>>#|, <pin MX of <instance CR0PREMUX>>#-] ->
        <pin SEL of <instance L7ABMUX>>;


    line lnM1
       <port M1> ->
       [<pin SEL of <instance L7CDMUX>>#|, ] ->
         <pin MX of <instance Q1MUX>>,

       [<pin SEL of <instance L7CDMUX>>#|, <port M1>#-]->
       [  , <pin MX of <instance FFAPP1MUX>>#-]->
       <pin MX of <instance FFAPP1MUX>>,

       [<pin SEL of <instance L7CDMUX>>#|, <pin MX of <instance FFAPP1MUX>>#-]->
       [ , <pin MX of <instance CR1PREMUX>>#-]->
       <pin MX of <instance CR1PREMUX>>,

       [<pin SEL of <instance L7CDMUX>>#|, <pin MX of <instance CR1PREMUX>>#-]->
       <pin SEL of <instance L7CDMUX>>;

    line lnM2
        <port M2> ->
        [<pin SEL of <instance L8MUX>>#|, ] ->
        <pin SEL of <instance L8MUX>>,

        [<pin SEL of <instance L8MUX>>#|, <port M2>#-]->
        [<pin MX of <instance FFAPP2MUX>>#| - 10, <port M2>#-]->
        [ , <pin MX of <instance Q2MUX>>#-] ->
        [ , <pin MX of <instance FFAPP2MUX>>#-] ->
        [ , <pin MX of <instance CR2PREMUX>>#-] ->
        <pin MX of <instance CR2PREMUX>>,

        [<pin MX of <instance FFAPP2MUX>>#| - 10, <pin MX of <instance Q2MUX>>#-]->
        <pin MX of <instance Q2MUX>>,

        [<pin MX of <instance FFAPP2MUX>>#| - 10, <pin MX of <instance FFAPP2MUX>>#-]->
        <pin MX of <instance FFAPP2MUX>>;

    line lnM3
        <port M3> ->
        [ <pin MX of <instance Q3MUX>>#| - 20, ] ->
        <pin MX of <instance Q3MUX>>,

        [<pin MX of <instance Q3MUX>>#| - 20, <port M3>#-]->
        [ , <pin MX of <instance FFAPP3MUX>>#-]->
        <pin MX of <instance FFAPP3MUX>>,

        [<pin MX of <instance Q3MUX>>#| - 20, <pin MX of <instance FFAPP3MUX>>#-]->
        [ , <pin MX of <instance CR3PREMUX>>#-]->
        <pin MX of <instance CR3PREMUX>>;

    line lnA0
        <port A0> -> <pin A0 of<instance FYA>>;

    line lnA1
        <port A1> -> <pin A1 of<instance FYA>>;

    line lnA2
        <port A2> -> <pin A2 of<instance FYA>>;

    line lnA3
        <port A3> -> <pin A3 of<instance FYA>>;

    line lnA4
        <port A4> -> <pin A4 of<instance FYA>>;

    line lnA5
        <port A5> -> <pin A5 of<instance FYA>>;


    line lnB0
        <port B0> -> <pin A0 of<instance FYB>>;

    line lnB1
        <port B1> -> <pin A1 of<instance FYB>>;

    line lnB2
        <port B2> -> <pin A2 of<instance FYB>>;

    line lnB3
        <port B3> -> <pin A3 of<instance FYB>>;

    line lnB4
        <port B4> -> <pin A4 of<instance FYB>>;

    line lnB5
        <port B5> -> <pin A5 of<instance FYB>>;



    line lnC0
        <port C0> -> <pin A0 of<instance FYC>>;

    line lnC1
        <port C1> -> <pin A1 of<instance FYC>>;

    line lnC2
        <port C2> -> <pin A2 of<instance FYC>>;

    line lnC3
        <port C3> -> <pin A3 of<instance FYC>>;

    line lnC4
        <port C4> -> <pin A4 of<instance FYC>>;

    line lnC5
        <port C5> -> <pin A5 of<instance FYC>>;


    unsigned int D0WA_X = 60;
    unsigned int D1WA_X = D0WA_X - 2;
    unsigned int D2WA_X = D1WA_X - 2;
    unsigned int D3WA_X = D2WA_X - 2;
    unsigned int D4WA_X = D3WA_X - 2;
    unsigned int D5WA_X = D4WA_X - 2;

    line lnD0
        <port D0> ->
        [D0WA_X, ] ->
        <pin A0 of<instance FYD>>;

    line lnD1
        <port D1> ->
        [D1WA_X, ] ->
        <pin A1 of<instance FYD>>;

    line lnD2
        <port D2> ->
        [D2WA_X, ] ->
        <pin A2 of<instance FYD>>;

    line lnD3
        <port D3> ->
        [D3WA_X, ] ->
        <pin A3 of<instance FYD>>;

    line lnD4
        <port D4> ->
        [D4WA_X, ] ->
        <pin A4 of<instance FYD>>;

    line lnD5
        <port D5> ->
        [D5WA_X, ] ->
        <pin A5 of<instance FYD>>;


    line lnCIN
        <port CIN> -> <pin CIN of<instance FYA>>;



    line lnL6A
        <pin L6 of <instance FYA>> ->
        [<pin L6 of <instance FYA>>#| + 15 , ]  ->
           [ , <pin DI0 of <instance L7ABMUX>>#-] ->
            <pin DI0 of <instance L7ABMUX>>,

        [<pin L6 of <instance FYA>>#| + 15 , <pin L6 of <instance FYA>>#-] ->

        [<pin L6 of <instance FYA>>#| + 15, <port Y0>#-] ->
            [<pin L6 of <instance FYA>>#| + 87 , ] ->
            [ , <pin YX of <instance Q0MUX>>#-] ->
            <pin YX of <instance Q0MUX>>,

           [<pin L6 of <instance FYA>>#| + 87, <port Y0>#-] ->
           <port Y0>;

    line lnL6B
        <pin L6 of <instance FYB>> ->
        [<pin L6 of <instance FYB>>#| + 15 , ]  ->
        [ , <port Y1>#-] ->
            [ , <pin DI1 of <instance L7ABMUX>>#-]  ->
                  <pin DI1 of <instance L7ABMUX>>,

        [<pin L6 of <instance FYB>>#| + 15 , <port Y1>#-] ->
            [<pin L6 of <instance FYB>>#| + 87 , ]  ->
                 [ , <pin YX of <instance Q1MUX>>#-] ->
                 <pin YX of <instance Q1MUX>>,

            [<pin L6 of <instance FYB>>#| + 87, <port Y1>#-] ->
                 <port Y1>;

    line lnL6C
        <pin L6 of <instance FYC>> ->
        [<pin L6 of <instance FYC>>#| + 15 , ] ->
            [ , <pin DI0 of <instance L7CDMUX>>#-] ->
            <pin DI0 of <instance L7CDMUX>>,
        
        [<pin L6 of <instance FYC>>#| + 15 , <pin L6 of <instance FYC>>#-] ->
        [<pin L6 of <instance FYC>>#| + 15, <port Y2>#-] ->
             [<pin L6 of <instance FYC>>#| + 87, ] ->
                   <port Y2>,
             [<pin L6 of <instance FYC>>#| + 87, <port Y2>#-] ->
                   [ , <pin YX of <instance Q2MUX>>#-] ->
                   <pin YX of <instance Q2MUX>>;

    line lnL6D
        <pin L6 of <instance FYD>> ->
        [<pin L6 of <instance FYD>>#| + 15 , ]  ->
        [, <port Y3>#-] ->
           [ , <pin YX of <instance Q3MUX>>#-] ->
           [ , <pin DI1 of <instance L7CDMUX>>#-] ->
           <pin DI1 of <instance L7CDMUX>>,

        [<pin L6 of <instance FYD>>#| + 15, <port Y3>#-] ->
            [<pin L6 of <instance FYD>>#| + 87, <port Y3>#-] ->
             <port Y3>,

            [<pin L6 of <instance FYD>>#| + 87, <port Y3>#-] ->
            [<pin L6 of <instance FYD>>#| + 87, <pin YX of <instance Q3MUX>>#-] ->
               <pin YX of <instance Q3MUX>>;

    line lnL5A
        <pin L5 of <instance FYA>> ->
        [<pin L5 of <instance FYA>>#| + 20 , <pin L5 of <instance FYA>>#-]  ->
        [<pin L5 of <instance FYA>>#| + 20 ,  <pin YX of <instance CR0PREMUX>>#-] ->
        [<pin L5 of <instance FYA>>#| + 90 ,  <pin YX of <instance CR0PREMUX>>#-] ->
        <pin YX of <instance CR0PREMUX>>,


        [<pin L5 of <instance FYA>>#| + 90 ,  <pin YX of <instance CR0PREMUX>>#-] ->
        [<pin L5 of <instance FYA>>#| + 90 ,  <pin YX of <instance FFAPP0MUX>>#-] ->
        <pin YX of <instance FFAPP0MUX>>;

    line lnL5B
        <pin L5 of <instance FYB>> ->
        [<pin L5 of <instance FYB>>#| + 20 , <pin L5 of <instance FYB>>#-]  ->
        [<pin L5 of <instance FYB>>#| + 20 ,  <pin YX of <instance CR1PREMUX>>#-] ->
        [<pin L5 of <instance FYB>>#| + 90 ,  <pin YX of <instance CR1PREMUX>>#-] ->
        <pin YX of <instance CR1PREMUX>>,

        [<pin L5 of <instance FYB>>#| + 90 ,  <pin YX of <instance CR1PREMUX>>#-] ->
        [<pin L5 of <instance FYB>>#| + 90 ,  <pin YX of <instance FFAPP1MUX>>#-] ->
        <pin YX of <instance FFAPP1MUX>>;

    line lnL5C
        <pin L5 of <instance FYC>> ->
        [<pin L5 of <instance FYC>>#| + 20 , <pin L5 of <instance FYC>>#-]  ->
        [<pin L5 of <instance FYC>>#| + 20 ,  <pin YX of <instance CR2PREMUX>>#-] ->
        [<pin L5 of <instance FYC>>#| + 90 ,  <pin YX of <instance CR2PREMUX>>#-] ->
        <pin YX of <instance CR2PREMUX>>,

        [<pin L5 of <instance FYC>>#| + 90 ,  <pin YX of <instance CR2PREMUX>>#-] ->
        [<pin L5 of <instance FYC>>#| + 90 ,  <pin YX of <instance FFAPP2MUX>>#-] ->
        <pin YX of <instance FFAPP2MUX>>;

    line lnL5D
        <pin L5 of <instance FYD>> ->
        [<pin L5 of <instance FYD>>#| + 20 , <pin L5 of <instance FYD>>#-]  ->
        [<pin L5 of <instance FYD>>#| + 20 ,  <pin YX of <instance CR3PREMUX>>#-] ->
        [<pin L5 of <instance FYD>>#| + 90 ,  <pin YX of <instance CR3PREMUX>>#-] ->
        <pin YX of <instance CR3PREMUX>>,

        [<pin L5 of <instance FYD>>#| + 90 ,  <pin YX of <instance CR3PREMUX>>#-] ->
        [<pin L5 of <instance FYD>>#| + 90 ,  <pin YX of <instance FFAPP3MUX>>#-] ->
        <pin YX of <instance FFAPP3MUX>>;


    //line lnCR0
    line lnQ0
        <pin Q of <instance FF0>> ->
        [<pin Q of <instance FF0>> #| + 5, ] ->
           <port Q0>,
        [<pin Q of <instance FF0>> #| + 5, <pin Q of <instance FF0>>#- ] ->
            [, <port Y0>#- +4] ->
            [<port SRCI>#| -6, ] ->
               [ , <pin SRQ of <instance FFAPP0MUX>>#-] ->
               <pin SRQ of <instance FFAPP0MUX>>;

    line lnQ1
        <pin Q of <instance FF1>> ->
        [<pin Q of <instance FF1>> #| + 5,  ] ->
            <port Q1>,
        [<pin Q of <instance FF1>> #| + 5, <pin Q of <instance FF1>>#- ] ->
            [, <port Y1>#- +4] ->
            [<pin SRQ of <instance FFAPP1MUX>>#| -6, ] ->
               [ , <pin SRQ of <instance FFAPP1MUX>>#-] ->
               <pin SRQ of <instance FFAPP1MUX>>;

    //line lnY1
    //line lnCR1

    line lnQ2
        <pin Q of <instance FF2>> ->
        [<pin Q of <instance FF2>> #| + 5, ] ->
            <port Q2>,
        [<pin Q of <instance FF2>> #| + 5, <pin Q of <instance FF2>>#- ] ->
            [, <port Y2>#- +4] ->
            [<port SRCI>#| -6, ] ->
               [ , <pin SRQ of <instance FFAPP2MUX>>#-] ->
               <pin SRQ of <instance FFAPP2MUX>>;
    //line lnY2
    //line lnCR2

    line lnQ3
        <pin Q of <instance FF3>> ->
        [<pin Q of <instance FF3>> #| + 5, <pin Q of <instance FF3>>#- ] ->
            <port Q3>,
        [<pin Q of <instance FF3>> #| + 5, <pin Q of <instance FF3>>#- ] ->
            [, <port Y3>#- +4] ->
            [<port SRCI>#| -6, ] ->
               [ , <pin SRQ of <instance FFAPP3MUX>>#-] ->
               <pin SRQ of <instance FFAPP3MUX>>;

    //line lnY3
    //line lnCR3

    line  lnL7AB
        <pin DOUT of <instance L7ABMUX>> ->
        [<pin DOUT of <instance L7ABMUX>>#| + 5, ] ->
        [  , <pin DI0 of <instance L8MUX>>#-] ->
        <pin DI0 of <instance L8MUX>>,

        [<pin DOUT of <instance L7ABMUX>>#| + 5, <pin DOUT of <instance L7ABMUX>>#-] ->
        [ , <pin MF of <instance CR0PREMUX>>#-] ->
        <pin MF of <instance CR0PREMUX>>,

        [<pin DOUT of <instance L7ABMUX>>#| + 5, <pin MF of <instance CR0PREMUX>>#-] ->
        [ , <pin MF of <instance Q0MUX>>#-] ->
        <pin MF of <instance Q0MUX>>;

    line  lnL7CD
        <pin DOUT of <instance L7CDMUX>> ->
        [<pin DOUT of <instance L7CDMUX>>#| + 5, ] ->
        [ , <pin MF of <instance CR2PREMUX>>#-] ->
        <pin MF of <instance CR2PREMUX>>,

        [<pin DOUT of <instance L7CDMUX>>#| + 5, <pin MF of <instance CR2PREMUX>>#-] ->
        [ , <pin MF of <instance Q2MUX>>#-] ->
        <pin MF of <instance Q2MUX>>,

        [<pin DOUT of <instance L7CDMUX>>#| + 5 , <pin MF of <instance Q2MUX>>#-] ->
        [ , <pin DI1 of <instance L8MUX>>#-]->
        <pin DI1 of <instance L8MUX>>;

    line  lnL8
        <pin DOUT of <instance L8MUX>> ->
        [<pin DOUT of <instance L8MUX>>#| + 5, ] ->
        [ , <pin MF of <instance CR1PREMUX>>#-] ->
        [ , <pin MF of <instance Q1MUX>>#-] ->
        <pin MF of <instance Q1MUX>>,

        [<pin DOUT of <instance L8MUX>>#| + 5, <pin MF of <instance CR1PREMUX>>#-] ->
        <pin MF of <instance CR1PREMUX>>;

    line  lnCYA
        <pin COUT of <instance FYA>> ->
        [ ,<pin CYX of <instance CR0PREMUX>>#-] ->
        <pin CIN of <instance FYB>>,

        [<pin COUT of <instance FYA>>#|, <pin CYX of <instance CR0PREMUX>>#-] ->
        [<pin COUT of <instance FYA>>#| + 95, ] ->
        <pin CYX of <instance CR0PREMUX>>,

        [<pin COUT of <instance FYA>>#| + 95, <pin CYX of <instance CR0PREMUX>>#-]->
        [ , <pin CYX of <instance FFAPP0MUX>>#-] ->
        <pin CYX of <instance FFAPP0MUX>>;

    line  lnCYB
        <pin COUT of <instance FYB>> ->
        [ ,<pin CYX of <instance CR1PREMUX>>#-] ->
        <pin CIN of <instance FYC>>,

        [<pin COUT of <instance FYB>>#|, <pin CYX of <instance CR1PREMUX>>#-] ->
        [<pin COUT of <instance FYB>>#| + 95, ] ->
        <pin CYX of <instance CR1PREMUX>>,

        [<pin COUT of <instance FYB>>#| + 95, <pin CYX of <instance CR1PREMUX>>#-]->
        [ , <pin CYX of <instance FFAPP1MUX>>#-] ->
        <pin CYX of <instance FFAPP1MUX>>;

    line  lnCYC
        <pin COUT of <instance FYC>> ->
        [ ,<pin CYX of <instance CR2PREMUX>>#-] ->
        <pin CIN of <instance FYD>>,

        [<pin COUT of <instance FYC>>#|, <pin CYX of <instance CR2PREMUX>>#-] ->
        [<pin COUT of <instance FYC>>#| + 95, ] ->
        <pin CYX of <instance CR2PREMUX>>,

        [<pin COUT of <instance FYC>>#| + 95, <pin CYX of <instance CR2PREMUX>>#-]->
        [ , <pin CYX of <instance FFAPP2MUX>>#-] ->
        <pin CYX of <instance FFAPP2MUX>>;

    line  lnCYD
        <pin COUT of <instance FYD>> ->
        [ ,<pin CYX of <instance CR3PREMUX>>#-] ->
        <port COUT>,

        [<pin COUT of <instance FYD>>#|, <pin CYX of <instance CR3PREMUX>>#-] ->
        [<pin COUT of <instance FYD>>#| + 95, ] ->
        <pin CYX of <instance CR3PREMUX>>,

        [<pin COUT of <instance FYD>>#| + 95, <pin CYX of <instance CR3PREMUX>>#-]->
        [ , <pin CYX of <instance FFAPP3MUX>>#-] ->
        <pin CYX of <instance FFAPP3MUX>>;

    line  lnQD0
        <pin Q of <instance Q0MUX>> ->
        <pin D of <instance FF0>>;

    line  lnQD1
        <pin Q of <instance Q1MUX>> ->
        <pin D of <instance FF1>>;

    line  lnQD2
        <pin Q of <instance Q2MUX>> ->
        <pin D of <instance FF2>>;

    line  lnQD3
        <pin Q of <instance Q3MUX>> ->
        <pin D of <instance FF3>>;

    line  lnQC0
        <pin Q of <instance CR0PREMUX>> ->
        <pin CX of <instance CR0POSTMUX>>;

    line  lnQC1
        <pin Q of <instance CR1PREMUX>> ->
        <pin CX of <instance CR1POSTMUX>>;

    line  lnQC2
        <pin Q of <instance CR2PREMUX>> ->
        <pin CX of <instance CR2POSTMUX>>;

    line  lnQC3
        <pin Q of <instance CR3PREMUX>> ->
        <pin CX of <instance CR3POSTMUX>>;


    line  lnQD0_APP
        <pin Q of <instance FFAPP0MUX>> ->
        [<pin Q of <instance FFAPP0MUX>>#| + 5, ] ->
        [ , <pin D of <instance FFAPP0>>#-] ->
        <pin D of <instance FFAPP0>>;

    line  lnQD1_APP
        <pin Q of <instance FFAPP1MUX>> ->
        [<pin Q of <instance FFAPP1MUX>>#| + 5, ] ->
        [ , <pin D of <instance FFAPP1>>#-] ->
        <pin D of <instance FFAPP1>>;

    line  lnQD2_APP
        <pin Q of <instance FFAPP2MUX>> ->
        [<pin Q of <instance FFAPP2MUX>>#| + 5, ] ->
        [ , <pin D of <instance FFAPP2>>#-] ->
        <pin D of <instance FFAPP2>>;

    line  lnQD3_APP
        <pin Q of <instance FFAPP3MUX>> ->
        [<pin Q of <instance FFAPP3MUX>>#| + 5, ] ->
        [ , <pin D of <instance FFAPP3>>#-] ->
        <pin D of <instance FFAPP3>>;

    line  lnQP0
        <pin Q of <instance FFAPP0>> ->
        [<pin Q of <instance FFAPP0>>#| + 8, ] ->
        [ , <pin QPX of <instance CR0POSTMUX>>#-] ->
        <pin QPX of <instance CR0POSTMUX>>;

    line  lnQP1
        <pin Q of <instance FFAPP1>> ->
        [<pin Q of <instance FFAPP1>>#| + 8, ] ->
        [ , <pin QPX of <instance CR1POSTMUX>>#-] ->
        <pin QPX of <instance CR1POSTMUX>>;

    line  lnQP2
        <pin Q of <instance FFAPP2>> ->
        [<pin Q of <instance FFAPP2>>#| + 8, ] ->
        [ , <pin QPX of <instance CR2POSTMUX>>#-] ->
        <pin QPX of <instance CR2POSTMUX>>;

    line  lnQP3
        <pin Q of <instance FFAPP3>> ->
        [<pin Q of <instance FFAPP3>>#| + 8, ] ->
        [ , <pin QPX of <instance CR3POSTMUX>>#-] ->
        <pin QPX of <instance CR3POSTMUX>>;

    line  lnQ_CR0
        <pin Q of <instance CR0POSTMUX>> ->
        [<pin Q of <instance FF0>> #| + 5, ] ->
             <port CR0>,
        [<pin Q of <instance FF0>> #| + 5, <pin Q of <instance CR0POSTMUX>>#-] ->
             [, <pin Q of <instance CR0POSTMUX>>#- + 14] ->
             [<port SRCI>#| ,] ->
                 [ , <pin SRQ of <instance Q1MUX>>#-] ->
                 <pin SRQ of <instance Q1MUX>>;

    line  lnQ_CR1
        <pin Q of <instance CR1POSTMUX>> ->
        [<pin Q of <instance FF1>> #| + 5, ] ->
             <port CR1>,
        [<pin Q of <instance FF1>> #| + 5, <pin Q of <instance CR1POSTMUX>>#-] ->
             [ , <pin Q of <instance CR1POSTMUX>>#- + 14] ->
             [<port SRCI>#| ,] ->
                 [ , <pin SRQ of <instance Q2MUX>>#-] ->
                    <pin SRQ of <instance Q2MUX>>;

    line  lnQ_CR2
        <pin Q of <instance CR2POSTMUX>> ->
        [<pin Q of <instance FF2>> #| + 5, ] ->
              <port CR2>,
        [<pin Q of <instance FF2>> #| + 5, <pin Q of <instance CR2POSTMUX>>#-] ->
             [ , <pin Q of <instance CR2POSTMUX>>#- + 14] ->
             [<port SRCI>#| ,] ->
                [ , <pin SRQ of <instance Q3MUX>>#-] ->
                   <pin SRQ of <instance Q3MUX>>;

    line  lnQ_CR3
        <pin Q of <instance CR3POSTMUX>> ->
        [<port SRCO>#|, ] ->
        <port CR3>,

        [<port SRCO>#|, <pin Q of <instance CR3POSTMUX>>#-] ->
        <port SRCO>;


    map (

              <line  lnA5           >  => <wire  ntA5          of device CLMA (structure netlist)> ,
              <line  lnA4           >  => <wire  ntA4          of device CLMA (structure netlist)> ,
              <line  lnA3           >  => <wire  ntA3          of device CLMA (structure netlist)> ,
              <line  lnA2           >  => <wire  ntA2          of device CLMA (structure netlist)> ,
              <line  lnA1           >  => <wire  ntA1          of device CLMA (structure netlist)> ,
              <line  lnA0           >  => <wire  ntA0          of device CLMA (structure netlist)> ,
              <line  lnB5           >  => <wire  ntB5          of device CLMA (structure netlist)> ,
              <line  lnB4           >  => <wire  ntB4          of device CLMA (structure netlist)> ,
              <line  lnB3           >  => <wire  ntB3          of device CLMA (structure netlist)> ,
              <line  lnB2           >  => <wire  ntB2          of device CLMA (structure netlist)> ,
              <line  lnB1           >  => <wire  ntB1          of device CLMA (structure netlist)> ,
              <line  lnB0           >  => <wire  ntB0          of device CLMA (structure netlist)> ,
              <line  lnC5           >  => <wire  ntC5          of device CLMA (structure netlist)> ,
              <line  lnC4           >  => <wire  ntC4          of device CLMA (structure netlist)> ,
              <line  lnC3           >  => <wire  ntC3          of device CLMA (structure netlist)> ,
              <line  lnC2           >  => <wire  ntC2          of device CLMA (structure netlist)> ,
              <line  lnC1           >  => <wire  ntC1          of device CLMA (structure netlist)> ,
              <line  lnC0           >  => <wire  ntC0          of device CLMA (structure netlist)> ,
              <line  lnD5           >  => <wire  ntD5          of device CLMA (structure netlist)> ,
              <line  lnD4           >  => <wire  ntD4          of device CLMA (structure netlist)> ,
              <line  lnD3           >  => <wire  ntD3          of device CLMA (structure netlist)> ,
              <line  lnD2           >  => <wire  ntD2          of device CLMA (structure netlist)> ,
              <line  lnD1           >  => <wire  ntD1          of device CLMA (structure netlist)> ,
              <line  lnD0           >  => <wire  ntD0          of device CLMA (structure netlist)> ,
              <line  lnM3           >  => <wire  ntM3          of device CLMA (structure netlist)> ,
              <line  lnM2           >  => <wire  ntM2          of device CLMA (structure netlist)> ,
              <line  lnM1           >  => <wire  ntM1          of device CLMA (structure netlist)> ,
              <line  lnM0           >  => <wire  ntM0          of device CLMA (structure netlist)> ,

              <line  lnRS           >  => <wire  ntRS          of device CLMA (structure netlist)> ,
              <line  lnCE           >  => <wire  ntCE          of device CLMA (structure netlist)> ,
              <line  lnCLK          >  => <wire  ntCLK         of device CLMA (structure netlist)> ,
              <line  lnRSCI         >  => <wire  ntRSCI        of device CLMA (structure netlist)> ,
              <line  lnCECI         >  => <wire  ntCECI        of device CLMA (structure netlist)> ,
              <line  lnCIN          >  => <wire  ntCIN         of device CLMA (structure netlist)> ,
              <line  lnSRCI         >  => <wire  ntSRCI        of device CLMA (structure netlist)> ,
              <line  lnCLKR         >  => <wire  ntCLKR        of device CLMA (structure netlist)> ,
              <line  lnCE_P         >  => <wire  ntCE_P        of device CLMA (structure netlist)> ,
              <line  lnRS_P         >  => <wire  ntRS_P        of device CLMA (structure netlist)> ,
              <line  lnCECO         >  => <wire  ntCECO        of device CLMA (structure netlist)> ,
              <line  lnRSCO         >  => <wire  ntRSCO        of device CLMA (structure netlist)> ,
              <line  lnQ0           >  => <wire  ntQ0          of device CLMA (structure netlist)> ,
              <line  lnQ1           >  => <wire  ntQ1          of device CLMA (structure netlist)> ,
              <line  lnQ2           >  => <wire  ntQ2          of device CLMA (structure netlist)> ,
              <line  lnQ3           >  => <wire  ntQ3          of device CLMA (structure netlist)> ,
              <line  lnCYA          >  => <wire  ntCYA         of device CLMA (structure netlist)> ,
              <line  lnCYB          >  => <wire  ntCYB         of device CLMA (structure netlist)> ,
              <line  lnCYC          >  => <wire  ntCYC         of device CLMA (structure netlist)> ,
              <line  lnCYD          >  => <wire  ntCYD         of device CLMA (structure netlist)> ,
              <line  lnL5A          >  => <wire  ntL5A         of device CLMA (structure netlist)> ,
              <line  lnL5B          >  => <wire  ntL5B         of device CLMA (structure netlist)> ,
              <line  lnL5C          >  => <wire  ntL5C         of device CLMA (structure netlist)> ,
              <line  lnL5D          >  => <wire  ntL5D         of device CLMA (structure netlist)> ,
              <line  lnL6A          >  => <wire  ntL6A         of device CLMA (structure netlist)> ,
              <line  lnL6B          >  => <wire  ntL6B         of device CLMA (structure netlist)> ,
              <line  lnL6C          >  => <wire  ntL6C         of device CLMA (structure netlist)> ,
              <line  lnL6D          >  => <wire  ntL6D         of device CLMA (structure netlist)> ,
              <line  lnL7AB         >  => <wire  ntL7AB        of device CLMA (structure netlist)> ,
              <line  lnL7CD         >  => <wire  ntL7CD        of device CLMA (structure netlist)> ,
              <line  lnL8           >  => <wire  ntL8          of device CLMA (structure netlist)> ,
              <line  lnQD0          >  => <wire  ntQD0         of device CLMA (structure netlist)> ,
              <line  lnQD1          >  => <wire  ntQD1         of device CLMA (structure netlist)> ,
              <line  lnQD2          >  => <wire  ntQD2         of device CLMA (structure netlist)> ,
              <line  lnQD3          >  => <wire  ntQD3         of device CLMA (structure netlist)> ,
              <line  lnQC0          >  => <wire  ntQC0         of device CLMA (structure netlist)> ,
              <line  lnQC1          >  => <wire  ntQC1         of device CLMA (structure netlist)> ,
              <line  lnQC2          >  => <wire  ntQC2         of device CLMA (structure netlist)> ,
              <line  lnQC3          >  => <wire  ntQC3         of device CLMA (structure netlist)> ,
              <line  lnQD0_APP      >  => <wire  ntQD0_APP     of device CLMA (structure netlist)> ,
              <line  lnQD1_APP      >  => <wire  ntQD1_APP     of device CLMA (structure netlist)> ,
              <line  lnQD2_APP      >  => <wire  ntQD2_APP     of device CLMA (structure netlist)> ,
              <line  lnQD3_APP      >  => <wire  ntQD3_APP     of device CLMA (structure netlist)> ,
              <line  lnQP0          >  => <wire  ntQP0         of device CLMA (structure netlist)> ,
              <line  lnQP1          >  => <wire  ntQP1         of device CLMA (structure netlist)> ,
              <line  lnQP2          >  => <wire  ntQP2         of device CLMA (structure netlist)> ,
              <line  lnQP3          >  => <wire  ntQP3         of device CLMA (structure netlist)> ,
              <line  lnQ_CR0        >  => <wire  ntCR0       of device CLMA (structure netlist)> ,
              <line  lnQ_CR1        >  => <wire  ntCR1       of device CLMA (structure netlist)> ,
              <line  lnQ_CR2        >  => <wire  ntCR2       of device CLMA (structure netlist)> ,
              <line  lnQ_CR3        >  => <wire  ntCR3       of device CLMA (structure netlist)>
    );


}; // end of schematic schm of CLMA


/*******************************************************************************

  Device    [CLMA]

  Author    [hejie]

  Abstract  [The floorplan view for CLMA. This schematic view is solely used in
             floorplan editor]

  Revision History:

********************************************************************************/
floorplan
schematic floorplan_view of CLMA // pragma PAP_ARC_SHOW_BOUNDING_BOX
{
    // The bounding box
    generate ( 20*8 # 40*8 );

    //
    // Layout symbols that will be shown in the floorplan view
    // 
    device LUT6 ( symbol fpsym_a ) FYA
        @[1*8,3*8];
        
    device LUT6 ( symbol fpsym_b ) FYB
        @[1*8,12*8];        
        
    device LUT6 ( symbol fpsym_c ) FYC
        @[1*8,21*8];        
        
    device LUT6 ( symbol fpsym_d ) FYD
        @[1*8,30*8];        
                        
    device MUX2 ( symbol fpsym_l7ab ) L7ABMUX
        @[8*6+5,7*8+3];
    device MUX2 ( symbol fpsym_l7cd ) L7CDMUX
        @[8*6+5,25*8+3];   
    device MUX2 ( symbol fpsym_l8 ) L8MUX
        @[8*6+5,16*8+3];          

    device APPFF ( symbol fpsym_af0 ) FFAPP0
        @[12*8, 8*8];
    
    device APPFF ( symbol fpsym_af1 ) FFAPP1
        @[12*8, 17*8];       

    device APPFF ( symbol fpsym_af2 ) FFAPP2
        @[12*8, 26*8]; 
                        
    device APPFF ( symbol fpsym_af3 ) FFAPP3
        @[12*8, 35*8];    
               
    device MAINFF ( symbol fpsym_0 ) FF0
        @[15*8, 3*8];
    
    device MAINFF ( symbol fpsym_1 ) FF1
        @[15*8, 12*8];       

    device MAINFF ( symbol fpsym_2 ) FF2
        @[15*8, 21*8]; 
                        
    device MAINFF ( symbol fpsym_3 ) FF3
        @[15*8, 30*8];          
         

    map 
    (
        <instance FYA>        => <instance FYA       of device CLMA (structure fp_struct)> ,
        <instance FYB>        => <instance FYB       of device CLMA (structure fp_struct)> ,
        <instance FYC>        => <instance FYC       of device CLMA (structure fp_struct)> ,
        <instance FYD>        => <instance FYD       of device CLMA (structure fp_struct)> ,                      
        <instance L7ABMUX>    => <instance L7ABMUX   of device CLMA (structure fp_struct)> ,
        <instance L7CDMUX>    => <instance L7CDMUX   of device CLMA (structure fp_struct)> ,
        <instance L8MUX>      => <instance L8MUX     of device CLMA (structure fp_struct)> , 
        <instance FFAPP0>        => <instance FFAPP0 of device CLMA (structure fp_struct)> ,
        <instance FFAPP1>        => <instance FFAPP1 of device CLMA (structure fp_struct)> ,                
        <instance FFAPP2>        => <instance FFAPP2 of device CLMA (structure fp_struct)> ,
        <instance FFAPP3>        => <instance FFAPP3 of device CLMA (structure fp_struct)>,               
        <instance FF0>        => <instance FF0       of device CLMA (structure fp_struct)> ,
        <instance FF1>        => <instance FF1       of device CLMA (structure fp_struct)> ,                
        <instance FF2>        => <instance FF2       of device CLMA (structure fp_struct)> ,
        <instance FF3>        => <instance FF3       of device CLMA (structure fp_struct)>
    );

}; // end of schematic floorplan_view of CLMA

