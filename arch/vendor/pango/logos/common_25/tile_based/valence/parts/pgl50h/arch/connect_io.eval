*************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs;
use pgl_funcs_connect_io_bank_100h;
use pgl50h_funcs_connect_io_bank;

structure arch_nl connect_iob_iol of PGL50H
{

    int y0,y1,y2,y3,y4,y5,y6,y7,y8,y9,y10,y11,y12,y13,y14,y15,y16,y17,y18,y19,y20,y21,y22,y23,y24,y25,y26,y27,y28,y29,y30,y31,y32,y33,y34,y35,y36,y37,y38,y39,y40,y41,y42,y43,y44,y45,y46,y47,y48,y49,y50,y51,y52,y53,y54,y55,y56,y57,y58,y59;
    int x0,x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13,x14,x15,x16,x17,x18,x19,x20,x21,x22,x23,x24,x25,x26,x27,x28,x29,x30,x31,x32,x33,x34,x35,x36,x37,x38,x39,x40,x41,x42,x43,x44,x45,x46,x47,x48,x49,x50,x51,x52,x53,x54,x55,x56,x57,x58,x59;
    int flag_lr, flag_pn ,flag_ud;
    int tx, ty, num_bank;
    string dev_iob ;

    y0  = 92 ;
    y1  = 91 ;
    y2  = 90 ;
    y3  = 89 ;
    y4  = 88 ;
    y5  = 85 ;
    y6  = 84 ;
    y7  = 83 ;
    y8  = 82 ;
    y9  = 81 ;
    y10 = 75 ;
    y11 = 74 ;
    y12 = 73 ;
    y13 = 72 ;
    y14 = 71 ;
    y15 = 68 ;
    y16 = 67 ;
    y17 = 66 ;
    y18 = 65 ;
    y19 = 64 ;
    y20 = 61 ;
    y21 = 60 ;
    y22 = 59 ;
    y23 = 58 ;
    y24 = 57 ;
    y25 = 54 ;
    y26 = 53  ;  
    y27 = 52  ;  
    y28 = 51  ;  
    y29 = 50  ;  
    y30 = 44  ;  
    y31 = 43  ;  
    y32 = 42  ;  
    y33 = 41  ;  
    y34 = 40  ;  
    y35 = 37  ;  
    y36 = 36  ;  
    y37 = 35  ;  
    y38 = 34  ;  
    y39 = 33  ;  
    y40 = 30  ;  
    y41 = 29  ;  
    y42 = 28  ;  
    y43 = 27  ;  
    y44 = 26  ;  
    y45 = 23  ;  
    y46 = 22  ;  
    y47 = 21  ;  
    y48 = 20  ;  
    y49 = 19  ;  
    y50 = 13  ;  
    y51 = 12  ;  
    y52 = 11  ;  
    y53 = 10  ;  
    y54 = 9   ;  
    y55 = 6   ;  
    y56 = 5   ;
    y57 = 4   ;
    y58 = 1000   ;
    y59 = 1000   ;

    flag_lr = 1 ;
    flag_pn = 1 ;

    tx = IOB3_TILE_X ;
    ty = IOB3_TILE_Y ;
    dev_iob = "IOB3_TILE" ;
    num_bank = 3 ;

    connect_iob_iol_v_100h(tx,ty, "IOL_TILE", dev_iob,flag_lr,flag_pn,y0,y1,y2,y3,y4,y5,y6,y7,y8,y9,y10,y11,y12,y13,y14,y15,y16,y17,y18,y19,y20,y21,y22,y23,y24,y25,y26,y27,y28,y29,y30,y31,y32,y33,y34,y35,y36,y37,y38,y39,y40,y41,y42,y43,y44,y45,y46,y47,y48,y49,y50,y51,y52,y53,y54,y55,y56,y57,y58,y59);

    connect_pad_bank_100h( "B",num_bank,dev_iob,tx,ty,y0,y1,y2,y3,y4,y5,y6,y7,y8,y9,y10,y11,y12,y13,y14,y15,y16,y17,y18,y19,y20,y21,y22,y23,y24,y25,y26,y27,y28,y29,y30,y31,y32,y33,y34,y35,y36,y37,y38,y39,y40,y41,y42,y43,y44,y45,y46,y47,y48,y49,y50,y51,y52,y53,y54,y55,y56,y57,y58,y59 );

    y56 =1000   ;
    y57 =1000   ;
    y58 =1000   ;
    y59 =1000   ;

    flag_lr = 0 ;
    flag_pn = 1 ;

    tx = IOB1_TILE_X ;
    ty = IOB1_TILE_Y ;
    dev_iob = "IOB1_TILE" ;
    num_bank = 1 ;

    connect_iob_iol_v_100h(tx,ty, "IOL_TILE", dev_iob,flag_lr,flag_pn,y0,y1,y2,y3,y4,y5,y6,y7,y8,y9,y10,y11,y12,y13,y14,y15,y16,y17,y18,y19,y20,y21,y22,y23,y24,y25,y26,y27,y28,y29,y30,y31,y32,y33,y34,y35,y36,y37,y38,y39,y40,y41,y42,y43,y44,y45,y46,y47,y48,y49,y50,y51,y52,y53,y54,y55,y56,y57,y58,y59);

    connect_pad_bank_100h( "B",num_bank,dev_iob,tx,ty,y0,y1,y2,y3,y4,y5,y6,y7,y8,y9,y10,y11,y12,y13,y14,y15,y16,y17,y18,y19,y20,y21,y22,y23,y24,y25,y26,y27,y28,y29,y30,y31,y32,y33,y34,y35,y36,y37,y38,y39,y40,y41,y42,y43,y44,y45,y46,y47,y48,y49,y50,y51,y52,y53,y54,y55,y56,y57,y58,y59 );

    x0 =  2  ;
    x1 =  3  ;
    x2 =  4  ;
    x3 =  5  ;
    x4 =  8  ;
    x5 =  9  ;
    x6 =  10  ;
    x7 =  11  ;
    x8 =  15  ;
    x9 =  16  ;
    x10 = 17  ;
    x11 = 18  ;
    x12 = 54  ;
    x13 = 55  ;
    x14 = 56  ;
    x15 = 60  ;
    x16 = 61  ;
    x17 = 62  ;
    x18 = 63  ;
    x19 = 65  ;
    x20 = 66  ;
    x21 = 67  ;
    x22 = 70  ;
    x23 = 72  ;
    x24 = 73  ;
    x25 = 74  ;
    x26 = 75  ;  
    x27 = 77  ;  
    x28 = 78  ;  
    x29 = 79  ;  
    x30 = 80  ;  
    x31 = 1000  ;  
    x32 = 1000  ;  
    x33 = 1000  ;  
    x34 = 1000  ;  
    x35 = 1000  ;  
    x36 = 1000  ;  
    x37 = 1000  ;  
    x38 = 1000  ;  
    x39 = 1000  ;  
    x40 = 1000  ;  
    x41 = 1000  ;  
    x42 = 1000  ;  
    x43 = 1000  ;  
    x44 = 1000  ;  
    x45 = 1000  ;  
    x46 = 1000  ;  
    x47 = 1000  ;  
    x48 = 1000  ;  
    x49 = 1000  ;  
    x50 = 1000  ;  
    x51 = 1000  ;  
    x52 = 1000  ;  
    x53 = 1000  ;  
    x54 = 1000  ;  
    x55 = 1000  ;  
    x56 = 1000  ;  
    x57 = 1000  ;  
    x58 = 1000  ;  
    x59 = 1000  ;

    y0 = x0    ;
    y1 = x1    ;
    y2 = x2    ;
    y3 = x3    ;
    y4 = x4    ;
    y5 = x5    ;
    y6 = x6    ;
    y7 = x7    ;
    y8 = x8    ;
    y9 = x9    ;
    y10 =x10   ;
    y11 =x11   ;
    y12 =x12   ;
    y13 =x13   ;
    y14 =x14   ;
    y15 =x15   ;
    y16 =x16   ;
    y17 =x17   ;
    y18 =x18   ;
    y19 =x19   ;
    y20 =x20   ;
    y21 =x21   ;
    y22 =x22   ;
    y23 =x23   ;
    y24 =x24   ;
    y25 =x25   ;
    y26 =x26  ;  
    y27 =x27  ;  
    y28 =x28  ;  
    y29 =x29  ;  
    y30 =x30  ;  
    y31 =x31  ;  
    y32 =x32  ;  
    y33 =x33  ;  
    y34 =x34  ;  
    y35 =x35  ;  
    y36 =x36  ;  
    y37 =x37  ;  
    y38 =x38  ;  
    y39 =x39  ;  
    y40 =x40  ;  
    y41 =x41  ;  
    y42 =x42  ;  
    y43 =x43  ;  
    y44 =x44  ;  
    y45 =x45  ;  
    y46 =x46  ;  
    y47 =x47  ;  
    y48 =x48  ;  
    y49 =x49  ;  
    y50 =x50  ;  
    y51 =x51  ;  
    y52 =x52  ;  
    y53 =x53  ;  
    y54 =x54  ;  
    y55 =x55  ;  
    y56 =x56  ;
    y57 =x57  ;
    y58 =x58  ;
    y59 =x59  ;

    flag_ud = 1 ;
    flag_pn = 1 ;

    tx = IOB0_TILE_X ;
    ty = IOB0_TILE_Y ;
    dev_iob = "IOB0_TILE" ;
    num_bank = 0 ;

    connect_iob_iol_h_100h(tx,ty, "IOLTB_TILE", dev_iob,flag_ud,flag_pn,x0,x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13,x14,x15,x16,x17,x18,x19,x20,x21,x22,x23,x24,x25,x26,x27,x28,x29,x30,x31,x32,x33,x34,x35,x36,x37,x38,x39,x40,x41,x42,x43,x44,x45,x46,x47,x48,x49,x50,x51,x52,x53,x54,x55,x56,x57,x58,x59);

    connect_pad_bank_100h( "B",num_bank,dev_iob,tx,ty,y0,y1,y2,y3,y4,y5,y6,y7,y8,y9,y10,y11,y12,y13,y14,y15,y16,y17,y18,y19,y20,y21,y22,y23,y24,y25,y26,y27,y28,y29,y30,y31,y32,y33,y34,y35,y36,y37,y38,y39,y40,y41,y42,y43,y44,y45,y46,y47,y48,y49,y50,y51,y52,y53,y54,y55,y56,y57,y58,y59 );

    x0 = 2 ;
    x1 = 3 ;
    x2 = 4 ;
    x3 = 5 ;
    x4 = 8 ;
    x5 = 9 ;
    x6 = 10 ;
    x7 = 11 ;
    x8 = 15 ;
    x9 = 16 ;
    x10 =17 ;
    x11 =18 ;
    x12 =22 ;
    x13 =23 ;
    x14 =24 ;
    x15 =25 ;
    x16 =27 ;
    x17 =28 ;
    x18 =29 ;
    x19 =30 ;
    x20 =32 ;
    x21 =33 ;
    x22 =37 ;
    x23 =38 ;
    x24 =39 ;
    x25 =40 ;
    x26 =41 ;  
    x27 =42 ;  
    x28 =45 ;  
    x29 =46 ;  
    x30 =47 ;  
    x31 =49 ;  
    x32 =50 ;  
    x33 =52 ;  
    x34 =53 ;  
    x35 =54 ;  
    x36 =55 ;  
    x37 =56 ;  
    x38 =60 ;  
    x39 =61 ;  
    x40 =62 ;  
    x41 =63 ;  
    x42 =65 ;  
    x43 =66 ;  
    x44 =67 ;  
    x45 =68 ;  
    x46 =70 ;  
    x47 =72 ;  
    x48 =73 ;  
    x49 =74 ;  
    x50 =75 ;  
    x51 =77 ;  
    x52 =78 ;  
    x53 =79 ;  
    x54 =80 ;  
    x55 = 1000 ;  
    x56 = 1000 ;  
    x57 = 1000 ;  
    x58 = 1000 ;  
    x59 = 1000 ;

    y0 = x0    ;
    y1 = x1    ;
    y2 = x2    ;
    y3 = x3    ;
    y4 = x4    ;
    y5 = x5    ;
    y6 = x6    ;
    y7 = x7    ;
    y8 = x8    ;
    y9 = x9    ;
    y10 =x10   ;
    y11 =x11   ;
    y12 =x12   ;
    y13 =x13   ;
    y14 =x14   ;
    y15 =x15   ;
    y16 =x16   ;
    y17 =x17   ;
    y18 =x18   ;
    y19 =x19   ;
    y20 =x20   ;
    y21 =x21   ;
    y22 =x22   ;
    y23 =x23   ;
    y24 =x24   ;
    y25 =x25   ;
    y26 =x26  ;  
    y27 =x27  ;  
    y28 =x28  ;  
    y29 =x29  ;  
    y30 =x30  ;  
    y31 =x31  ;  
    y32 =x32  ;  
    y33 =x33  ;  
    y34 =x34  ;  
    y35 =x35  ;  
    y36 =x36  ;  
    y37 =x37  ;  
    y38 =x38  ;  
    y39 =x39  ;  
    y40 =x40  ;  
    y41 =x41  ;  
    y42 =x42  ;  
    y43 =x43  ;  
    y44 =x44  ;  
    y45 =x45  ;  
    y46 =x46  ;  
    y47 =x47  ;  
    y48 =x48  ;  
    y49 =x49  ;  
    y50 =x50  ;  
    y51 =x51  ;  
    y52 =x52  ;  
    y53 =x53  ;  
    y54 =x54  ;  
    y55 =x55  ;  
    y56 =x56  ;
    y57 =x57  ;
    y58 =x58  ;
    y59 =x59  ;

    flag_ud = 0 ;
    flag_pn = 0 ;

    tx = IOB2_TILE_X ;
    ty = IOB2_TILE_Y ;
    dev_iob = "IOB2_TILE" ;
    num_bank = 2 ;

    connect_iob_iol_h_100h(tx,ty, "IOLTB_TILE", dev_iob,flag_ud,flag_pn,x0,x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13,x14,x15,x16,x17,x18,x19,x20,x21,x22,x23,x24,x25,x26,x27,x28,x29,x30,x31,x32,x33,x34,x35,x36,x37,x38,x39,x40,x41,x42,x43,x44,x45,x46,x47,x48,x49,x50,x51,x52,x53,x54,x55,x56,x57,x58,x59);

    connect_pad_bank_100h( "B",num_bank,dev_iob,tx,ty,y0,y1,y2,y3,y4,y5,y6,y7,y8,y9,y10,y11,y12,y13,y14,y15,y16,y17,y18,y19,y20,y21,y22,y23,y24,y25,y26,y27,y28,y29,y30,y31,y32,y33,y34,y35,y36,y37,y38,y39,y40,y41,y42,y43,y44,y45,y46,y47,y48,y49,y50,y51,y52,y53,y54,y55,y56,y57,y58,y59 );

   string iob0,iob1,iob2,iob3,ccs,hsst,analog ; 

    iob0 = "IOB0_TILE" ;
    iob1 = "IOB1_TILE" ;
    iob2 = "IOB2_TILE" ;
    iob3 = "IOB3_TILE" ;
    ccs = "CCS_TILE" ;
    hsst = "HSST_TILE" ;
    analog = "ANALOG_PGL100H_TILE" ;

    connect_IOB_SCANCHAIN_BANK_50h(IOB0_TILE_X, IOB0_TILE_Y, IOB1_TILE_X, IOB1_TILE_Y, IOB2_TILE_X, IOB2_TILE_Y, IOB3_TILE_X, IOB3_TILE_Y,CCS_TILE_X, CCS_TILE_Y, HSST_TILE_U_L_X,HSST_TILE_U_L_Y,ANALOG_TILE_X,ANALOG_TILE_Y,iob0,iob1,iob2,iob3,analog,ccs,hsst);

};

/***************************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs;
use pgl_funcs_connect_io_bank_100h;

structure arch_nl connect_IOL_TILES of PGL50H
{

    unsigned int l_ty_dqs0[] = {22,23,[26:30]};
    unsigned int l_ty_dqs1[] = {[11:13,19:21]};
    unsigned int l_ty_dqs2[] = {[2:6],9,10};

    int ty_dqs_u = 25 ;
    int ty_dqs_m = 14 ;
    int ty_dqs_d = 7 ;

    unsigned int rx,tx,ty,ty_tmp,ty_dqs,ty_dqs_tmp,ty_iol_loop,ty_iol_pll_out,ty_iob, flag_ud,flag_lr,flag_pn;
    string type_lr, iob,dqs_o,gate_from;

    int flag_loop ,count_dqs_o,count_gate_from,flag_pll,ty_dqs_loop,flag_loop_dqs;

    flag_lr = 1 ;

    foreach tx(L_IOL_TILES_X_LR)
    {
        int l_ty[] = (tx==IOL_TILE_X_L) ? L_IOL_TILES_Y_L : L_IOL_TILES_Y_R ;

        flag_lr = (tx==IOL_TILE_X_L) ? 1 : 0 ;

        int count = 8 ;

        foreach ty(l_ty)
        {
            rx = ty/NUM_TILES_REGION ;

            ty_tmp = ty - rx * NUM_TILES_REGION ;

            foreach ty_dqs_tmp(l_ty_dqs0)
            {
                if(ty_tmp==ty_dqs_tmp)
                {
                    ty_dqs = ty_dqs_u + rx * NUM_TILES_REGION;
                    break ;
                }
            }
            foreach ty_dqs_tmp(l_ty_dqs1)
            {
                if(ty_tmp==ty_dqs_tmp)
                {
                    ty_dqs = ty_dqs_m + rx * NUM_TILES_REGION;
                    break ;
                }
            }
            foreach ty_dqs_tmp(l_ty_dqs2)
            {
                if(ty_tmp==ty_dqs_tmp)
                {
                    ty_dqs = ty_dqs_d + rx * NUM_TILES_REGION;
                    break ;
                }
            }

            int l_ty_iol_loop_l[] = {92,84,64,61,53,33,30,22};
            int l_ty_iol_loop_r[] = {92,84,64,53,41,33,30,22};
            int l_ty_dqs_loop[8:0] = {L_DQSL_TILES_Y};

            int l_ty_iol_loop[]=(tx==IOL_TILE_X_L) ? l_ty_iol_loop_l : l_ty_iol_loop_r ;

            flag_loop = 0 ;

            foreach ty_iol_loop(l_ty_iol_loop)          
            {
                if(ty==ty_iol_loop)
                {
                    flag_loop = 1 ;

                    ty_dqs_loop = l_ty_dqs_loop[count] ;                 

                    count = count - 1 ;

                    break ;
                }
            }

            flag_pll = (tx==IOL_TILE_X_L&&rx==2) ? 0 : 1 ;

            ty_iol_pll_out = (tx==IOL_TILE_X_L) ? 20 + rx * NUM_TILES_REGION : 12 + rx * NUM_TILES_REGION ;

            flag_pn = (tx==IOL_TILE_X_L) ? 0 : 1 ;

            connect_iol_BANK_100h(rx, tx, ty, ty_dqs, ty_dqs_loop,flag_loop,ty_iol_pll_out ,flag_pll,flag_lr,flag_pn);
        }
    }
    flag_lr = 2 ;

    foreach ty(L_IOL_TILES_Y_UD)
    {
        int l_tx[] = (ty == IOL_TILE_Y_U) ? L_IOL_TILES_X_U : L_IOL_TILES_X_D ;  

        flag_pn = (ty==IOL_TILE_Y_U) ? 1 : 0 ;

        foreach tx(l_tx)
        {
            connect_iol_BANK_100h(0, tx, ty, 0, 0,0, 0,0,flag_lr,flag_pn);            
        }

    }

    foreach tx(L_IOL_TILES_X_LR)
    {
        count_dqs_o = 0 ;
        count_gate_from = 0 ;

        foreach ty(L_DQSL_TILES_Y)
        {
            if(ty==ty_dqs_u+2*NUM_TILES_REGION)
            {
                count_dqs_o = 0 ;
                count_gate_from = 0 ;
            }

            rx = ty/NUM_TILES_REGION ;

            flag_ud=(ty==ty_dqs_u+(NUM_REGION-1)*NUM_TILES_REGION) ? 1 : (ty==7) ? 0 : 2 ;

            flag_lr = (tx == IOL_TILE_X_L) ? 1 : 0 ;

            iob = (flag_lr==1) ? "IOB3_TILE" : "IOB1_TILE" ;

            ty_iob = IOB1_TILE_Y ;

            dqs_o = (count_dqs_o == 0) ? "DQS_O[0]" :                
                    (count_dqs_o == 1) ? "DQS_O[1]" :                
                    (count_dqs_o == 2) ? "DQS_O[2]" :                
                    (count_dqs_o == 3) ? "DQS_O[3]" :                
                    (count_dqs_o == 4) ? "DQS_O[4]" :                
                    (count_dqs_o == 5) ? "DQS_O[5]" :                
                    (count_dqs_o == 6) ? "DQS_O[6]" :                
                    (count_dqs_o == 7) ? "DQS_O[7]" : "DQS_O[8]" ;               

            flag_loop_dqs = (ty==7&&tx>PLL_TILE_X) ? 0 : 1 ;

            if(flag_loop_dqs==1)
            {
                count_dqs_o = count_dqs_o + 1 ;
            }

            gate_from = (count_gate_from == 0) ? "GATE_FROM_LOOP[0]" :                
                        (count_gate_from == 1) ? "GATE_FROM_LOOP[1]" :                
                        (count_gate_from == 2) ? "GATE_FROM_LOOP[2]" :                
                        (count_gate_from == 3) ? "GATE_FROM_LOOP[3]" :                
                        (count_gate_from == 4) ? "GATE_FROM_LOOP[4]" :                
                        (count_gate_from == 5) ? "GATE_FROM_LOOP[5]" :                
                        (count_gate_from == 6) ? "GATE_FROM_LOOP[6]" :  "GATE_FROM_LOOP[7]" ;              

            flag_loop = (ty==7) ? 0 : 1 ;

            if(flag_loop==1)
            {                
                count_gate_from = count_gate_from + 1 ;
            }

            connect_dqs_BANK_100h(rx,tx,ty,ty_iob,ty_dqs_d,ty_dqs_m,ty_dqs_u,NUM_REGION,iob,dqs_o,gate_from,flag_loop,flag_loop_dqs,flag_ud,flag_lr);

        }        
    }

};
/***************************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs;
use pgl50h_funcs_connect_io_bank;

structure arch_nl connect_hsst_TILES of PGL50H
{

    connect_pad_hsst("HSST_TILE",HSST_TILE_U_L_X,HSST_TILE_U_L_Y);

};
