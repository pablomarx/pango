*************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs,pgl_funcs_connect_gs_wl;

structure arch_nl connect_blsr_output of PGL50H
{

// blsr signals by one to multi horizon ; bus_wlsr

    unsigned int rx,tx;
    string blsr;
    int tx_wlsr1_l = WLSR1_TILE_X_L;
    int tx_wlsr1_r = WLSR1_TILE_X_R;

    int ty_iob = 1 ;

    foreach rx( L_REGIONS )
    {
        foreach tx( L_WLSR_TILES_X )
        {
            blsr = (rx == 0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            if(tx<=PLL_TILE_X)
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_L, CCS_TILE_X, CCS_TILE_Y,ty_iob, "WLSR_TILE", "0", "0", blsr, 0);
            }          
            else
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_R, CCS_TILE_X, CCS_TILE_Y,ty_iob, "WLSR_TILE", "0", "0", blsr, 0);
            }
        } 

        foreach tx( L_WLSR1_TILES_X )
        {
            blsr = (rx == 0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            if(tx<=PLL_TILE_X)
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_L, CCS_TILE_X, CCS_TILE_Y,ty_iob, "WLSR1_TILE", "0", "0",blsr, 0);
            }          
            else
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_R, CCS_TILE_X, CCS_TILE_Y,ty_iob, "WLSR1_TILE", "0", "0",blsr, 0);
            }
        }
        foreach tx( L_WLSR1B_TILES_X )
        {
            blsr = (rx == 0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            if(tx<=PLL_TILE_X)
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_L, CCS_TILE_X, CCS_TILE_Y,ty_iob, "WLSR1_100H_TILE", "0", "0",blsr, 0);
            }          
            else
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_R, CCS_TILE_X, CCS_TILE_Y,ty_iob, "WLSR1_100H_TILE", "0", "0",blsr, 0);
            }
        }

        foreach tx( {PLL_TILE_X} )
        {
            blsr = (rx == 0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            if(tx<=PLL_TILE_X)
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_L, CCS_TILE_X, CCS_TILE_Y,ty_iob, "WLSR2_TILE", "0", "0", blsr,0);
            }          
            else
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_R, CCS_TILE_X, CCS_TILE_Y,ty_iob, "WLSR2_TILE", "0", "0", blsr,0);
            }
        }

        foreach tx( L_DRM_TILES_X )
        {
            blsr = (rx == 0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            if(tx<=PLL_TILE_X)
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_L, CCS_TILE_X, CCS_TILE_Y,ty_iob, "WLSRD_TILE", "0", "0", blsr,0);
            }          
            else
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_R, CCS_TILE_X, CCS_TILE_Y,ty_iob, "WLSRD_TILE", "0", "0", blsr,0);
            }
        }
        foreach tx( L_APM_TILES_X )
        {
            blsr = (rx == 0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            if(tx<=PLL_TILE_X)
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_L, CCS_TILE_X, CCS_TILE_Y,ty_iob, "WLSRA_TILE", "0", "0", blsr,0);
            }          
            else
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_R, CCS_TILE_X, CCS_TILE_Y,ty_iob, "WLSRA_TILE", "0", "0", blsr,0);
            }
        }
        foreach tx( {IOB3_TILE_X,IOB1_TILE_X} )
        {
            blsr = (rx == 0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            string iob = (tx<PLL_TILE_X) ? "IOB3_TILE" : "IOB1_TILE" ;

            string bus_wlsrb_in = (rx==0) ? "BUS_WLSRB_IN_0" : (rx==1) ? "BUS_WLSRB_IN_1" :"BUS_WLSRB_IN_2" ;
            string wlshft_ref = (rx==0) ? "WLSHFT_REF[0]" :(rx==1) ?  "WLSHFT_REF[1]" : "WLSHFT_REF[2]";

            if(tx<=PLL_TILE_X)
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_L, CCS_TILE_X, CCS_TILE_Y,ty_iob, iob, bus_wlsrb_in, wlshft_ref, blsr,1);
            }          
            else
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_R, CCS_TILE_X, CCS_TILE_Y,ty_iob, iob, bus_wlsrb_in, wlshft_ref, blsr,1);
            }
        }
        foreach tx( {IOL_TILE_X_L,IOL_TILE_X_R} )
        {
            blsr = (rx == 0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            if(tx<=PLL_TILE_X)
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_L, CCS_TILE_X, CCS_TILE_Y,ty_iob, "IOCKGATEDLL_100H_TILE", "0", "0", blsr,0);
            }          
            else
            {
                connect_blsr_gs_output(rx, tx, BLSR_TILE_X_R, CCS_TILE_X, CCS_TILE_Y,ty_iob, "IOCKGATEDLL_100H_TILE", "0", "0",blsr, 0);
            }
        }

    }


};//end of structure arch_nl connect_blsr of PGL50H
/***************************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs,pgl_funcs_connect_gs_wl;
use pgl_funcs_connect_gs_wl_100h;

structure arch_nl connect_col_addr of PGL50H
{

    int region_index, tx , num_wlsr;

    string iob_l,iob_r , blsr;

    int l_wlsr_tx[]= L_WLSR_TILES_X_L;
    int l_wlsra_tx[]= L_APM_TILES_X_L;
    int l_wlsrd_tx[]= L_DRM_TILES_X_L;
    int l_wlsr1_tx[]= {WLSR1_TILE_X_L};
    int l_wlsr1b_tx[]= L_WLSR1B_TILES_X_L;
    int l_wlsr2_tx[]= {PLL_TILE_X};
    int l_iock_tx[]= {IOL_TILE_X_L};
    int l_iob_tx[]= {0};

    iob_l = "IOB3_TILE" ; 
    iob_r = "IOB1_TILE" ; 

    foreach region_index(L_REGIONS)
    {
        num_wlsr = 0 ;

        foreach tx({[1:20,22:39]})
        {
            blsr = (region_index == 0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            num_wlsr = num_wlsr + 1 ;
        
            connect_col_wlsr_addr_100h(BLSR_TILE_X_L, tx, num_wlsr, region_index, 1, 1, l_wlsr_tx, l_wlsrd_tx, l_wlsra_tx, l_wlsr2_tx, l_wlsr1_tx,l_wlsr1b_tx, l_iock_tx, l_iob_tx, "COL_ADDR", blsr,"WLSRA_TILE",iob_l,iob_r);
        }
    }

// for iob col_addr

    foreach region_index(L_REGIONS)
    {
        num_wlsr = 0 ;

        blsr =  "BLSR1_TILE" ;

        string col_addr = (region_index==0) ? "COL_ADDR_0" : (region_index==1) ? "COL_ADDR_1" : "COL_ADDR_2";

        foreach tx({0})
        {
            connect_col_wlsr_addr_100h(BLSR_TILE_X_L, tx, num_wlsr, region_index, 1, 1, l_wlsr_tx, l_wlsrd_tx, l_wlsra_tx, l_wlsr2_tx, l_wlsr1_tx,l_wlsr1b_tx, l_iock_tx, l_iob_tx, col_addr, blsr,"WLSRA_TILE",iob_l,iob_r);
        }
    }

    int l_wlsr_tx_r[]= L_WLSR_TILES_X_R;
    int l_wlsra_tx_r[]= L_APM_TILES_X_R;
    int l_wlsrd_tx_r[]= L_DRM_TILES_X_R;
    int l_wlsr1_tx_r[]= {WLSR1_TILE_X_R};
    int l_wlsr1b_tx_r[]= L_WLSR1B_TILES_X_R;
    int l_wlsr2_tx_r[]= {0};
    int l_iock_tx_r[]= {IOL_TILE_X_R};
    int l_iob_tx_r[]= {IOB1_TILE_X};

    foreach region_index(L_REGIONS)
    {
        num_wlsr = 0 ;

        foreach tx({[41:58,60:81]})
        {
            blsr = (region_index == 0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            num_wlsr = num_wlsr + 1 ;
        
            connect_col_wlsr_addr_100h(BLSR_TILE_X_R, tx, num_wlsr, region_index, 1, 1, l_wlsr_tx_r, l_wlsrd_tx_r, l_wlsra_tx_r, l_wlsr2_tx_r, l_wlsr1_tx_r, l_wlsr1b_tx_r,l_iock_tx_r, l_iob_tx_r, "COL_ADDR", blsr,"WLSRA_TILE",iob_l,iob_r);
        }
    }

    foreach region_index(L_REGIONS)
    {
        num_wlsr = 0 ;

        blsr = (region_index==0) ? "BLSR2_TILE" : "BLSR1_TILE" ;

        foreach tx({40})
        {
            connect_col_wlsr_addr_100h(BLSR_TILE_X_R, tx, num_wlsr, region_index, 1, 1, l_wlsr_tx_r, l_wlsrd_tx_r, l_wlsra_tx_r, l_wlsr2_tx_r, l_wlsr1_tx_r, l_wlsr1b_tx_r,l_iock_tx_r, l_iob_tx_r, "COL_ADDR", blsr,"WLSRA_TILE",iob_l,iob_r);
        }
    }

// for iob col_addr

    foreach region_index(L_REGIONS)
    {
        num_wlsr =  41;

        blsr = (region_index==0) ? "BLSR2_TILE" : "BLSR1_TILE" ;

        string col_addr = (region_index==0) ? "COL_ADDR_0" : (region_index==1) ? "COL_ADDR_1" : "COL_ADDR_2";

        foreach tx(l_iob_tx_r)
        {
            connect_col_wlsr_addr_100h(BLSR_TILE_X_R, tx, num_wlsr, region_index, 1, 1, l_wlsr_tx_r, l_wlsrd_tx_r, l_wlsra_tx_r, l_wlsr2_tx_r, l_wlsr1_tx_r,l_wlsr1b_tx_r, l_iock_tx_r, l_iob_tx_r, col_addr, blsr,"WLSRA_TILE",iob_l,iob_r);
        }
    }

// for WLSRD COL_ADDR_D

    int num_wlsrd ;

    foreach region_index(L_REGIONS)
    {
        num_wlsrd = 0 ;

        blsr = "BLSR1_TILE" ;

        foreach tx(L_DRM_TILES_X_L)
        {
            num_wlsrd = num_wlsrd + 1 ;
        
            connect_col_wlsrdd_addr(BLSR_TILE_X_L, tx, num_wlsrd, region_index, blsr);
        }
    }

    foreach region_index(L_REGIONS)
    {
        num_wlsrd = 0 ;

        blsr = (region_index==0) ? "BLSR2_TILE" : "BLSR1_TILE" ;

        foreach tx(L_DRM_TILES_X_R)
        {
            num_wlsrd = num_wlsrd + 1 ;
        
            connect_col_wlsrdd_addr(BLSR_TILE_X_R, tx, num_wlsrd, region_index, blsr);
        }
    }

};//end of structure arch_nl connect_blsr of PGL50H
/***************************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs;
use pgl50h_connect_wl_bl,pgl_funcs_connect_gs_wl;
use pgl_funcs_connect_gs_wl_100h;

structure arch_nl connect_gs_wl of PGL50H 
{   

// for horizon one by one connect

    unsigned int rx,tx, ty_tmp,rx_tmp;
    
    unsigned int l_tx_wlsrs_l[36:0] = {[2:20,22:39]};
    unsigned int l_tx_wlsrs_r[39:0] = {[41:58,60:81]};
    unsigned int l_tx_wlsrs_l_b[36:0] = {[39:22,20:2]};
    unsigned int l_tx_wlsrs_r_b[39:0] = {[81:60,58:41]};
    int l_wlsr_tx[]= L_WLSR_TILES_X ;
    int l_wlsra_tx[]= L_APM_TILES_X ;
    int l_wlsrd_tx[]= L_DRM_TILES_X;
    int l_wlsr1_tx[]= L_WLSR1_TILES_X;
    int l_wlsr1b_tx[]= L_WLSR1B_TILES_X;
    int l_wlsr2_tx[]= {PLL_TILE_X};
    int l_iock_tx[]= {IOL_TILE_X_L,IOL_TILE_X_R};

    unsigned int ty, index,flag_ud,tx_l,tx_r;
    string blsr = "BLSR1_TILE";
    string addr ;

    int f_begin = NUM_TILE_START_Y ;

    foreach rx( L_REGIONS )
    {
        foreach flag_ud({1,0})
        {
            int l_tx_l[36:0] = (flag_ud==1) ? l_tx_wlsrs_l_b : l_tx_wlsrs_l ;
            int l_tx_r[39:0] = (flag_ud==1) ? l_tx_wlsrs_r_b : l_tx_wlsrs_r ;

            blsr = "BLSR1_TILE";

            foreach index({[36:0]})
            { 
                connect_WLSR_gs_wl_50h(index, BLSR_TILE_X_L, rx, l_tx_l, l_tx_r,l_wlsr_tx,l_wlsr1_tx,l_wlsr1b_tx,l_wlsr2_tx,l_wlsra_tx,l_wlsrd_tx,l_iock_tx, blsr, 1,flag_ud);
            }

            blsr = (rx==0) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            foreach index({[39:0]})
            { 
                connect_WLSR_gs_wl_50h(index, BLSR_TILE_X_R, rx,l_tx_l, l_tx_r , l_wlsr_tx,l_wlsr1_tx,l_wlsr1b_tx,l_wlsr2_tx,l_wlsra_tx,l_wlsrd_tx,l_iock_tx, blsr, 0,flag_ud);
            }
        }

//        connect_glogen_fb_gs_input(rx, PLL_TILE_X+1, BLSR_TILE_X_R, 3, "WLSR_TILE","BLSR1_TILE", "BLSR2_TILE");

        string wlshft_por_erase_n = (rx==0) ? "WLSHFT_POR_ERASE_N[0]" : (rx==1) ? "WLSHFT_POR_ERASE_N[1]" : "WLSHFT_POR_ERASE_N[2]" ;
        string cs_in = (rx==0) ? "CS_IN[0]" : (rx==1) ? "CS_IN[1]" : "CS_IN[2]" ;
        string col_inc_in = (rx==0) ? "COL_INC_IN[0]" : (rx==1) ? "COL_INC_IN[1]" : "COL_INC_IN[2]" ;
        string cs_out = (rx==0) ? "CS_OUT[0]" : (rx==1) ? "CS_OUT[1]" : "CS_OUT[2]" ;
        string col_inc_out = (rx==0) ? "COL_INC_OUT[0]" : (rx==1) ? "COL_INC_OUT[1]" : "COL_INC_OUT[2]" ;

        connect_iock_iob_gs_h_100h(rx, IOB3_TILE_X, IOB3_TILE_Y, IOL_TILE_X_L, 40, "IOB3_TILE",wlshft_por_erase_n,cs_in,col_inc_in,cs_out,col_inc_out,1);
        connect_iock_iob_gs_h_100h(rx, IOB1_TILE_X, IOB1_TILE_Y, IOL_TILE_X_R, 40, "IOB1_TILE",wlshft_por_erase_n,cs_in,col_inc_in,cs_out,col_inc_out,0);
    }

// for srb addr

    int ty_srb ;

    foreach rx( L_REGIONS )
    {
        foreach ty_srb({[1:15,17:31]})
        {
            ty = ty_srb + rx * NUM_TILES_REGION ;

            foreach tx( L_WLSR_TILES_X)
            {
                if(!((tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X) && (ty>=HSST_TILE_U_L_Y && ty<HSST_TILE_U_R_Y)))
                {
                    if(!((tx>PCIE_TILE_L_X && tx<PCIE_TILE_R_X) && (ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y)))
                    {
                        connect_SRB_gs_addr_input(tx, ty_srb, rx, "WLSR_TILE", 0);
                    }
                }
            }
            foreach tx( L_WLSR1_TILES_X)
            {
                if(!((tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X) && (ty>=HSST_TILE_U_L_Y && ty<HSST_TILE_U_R_Y)))
                {
                    connect_SRB_gs_addr_input(tx, ty_srb, rx, "WLSR1_TILE", 0);
                }
            }
            foreach tx( L_WLSR1B_TILES_X)
            {
                if(!((tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X) && (ty>=HSST_TILE_U_L_Y && ty<HSST_TILE_U_R_Y)))
                {
                    if(!((tx>PCIE_TILE_L_X && tx<PCIE_TILE_R_X) && (ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y)))
                    {
                        connect_SRB_gs_addr_input(tx, ty_srb, rx, "WLSR1_100H_TILE", 0);
                    }
                }
            }
            foreach tx( {PLL_TILE_X})
            {
                if(!((tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X) && (ty>=HSST_TILE_U_L_Y && ty<HSST_TILE_U_R_Y)))
                {
                    if(!((tx>PCIE_TILE_L_X && tx<PCIE_TILE_R_X) && (ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y)))
                    {
                        connect_SRB_gs_addr_input(tx, ty_srb, rx, "WLSR2_TILE", 0);
                    }
                }
            }
            foreach tx( L_APM_TILES_X)
            {
                if(!((tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X) && (ty>=HSST_TILE_U_L_Y && ty<HSST_TILE_U_R_Y)))
                {
                    if(!((tx>PCIE_TILE_L_X && tx<PCIE_TILE_R_X) && (ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y)))
                    {
                        connect_SRB_gs_addr_input(tx, ty_srb, rx, "WLSRA_TILE", 0);
                    }
                }
            }
            foreach tx( L_DRM_TILES_X)
            {
                if(!((tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X) && (ty>=HSST_TILE_U_L_Y && ty<HSST_TILE_U_R_Y)))
                {
                    if(!((tx>PCIE_TILE_L_X && tx<PCIE_TILE_R_X) && (ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y)))
                    {
                        connect_SRB_gs_addr_input(tx, ty_srb, rx, "WLSRD_TILE", 0);
                    }
                }
            }
            foreach tx({IOL_TILE_X_L,IOL_TILE_X_R})
            {
                connect_SRB_gs_addr_input(tx, ty_srb, rx, "IOCKGATEDLL_100H_TILE", 1);
            }
        }
    }

// for clm addr 

    int l_clma_tx[]=L_CLMA_TILES_X ;
    int l_clms_tx[]=L_CLMS_TILES_X ;

    int tx_wlsr1 , tx_wlsr1b ,tx_wlsr,ty_clm ;
    string wlsr ;

    foreach rx( L_REGIONS )
    {
        foreach tx(l_clma_tx)
        {
            foreach tx_wlsr1(L_WLSR1_TILES_X)
            {
                if(tx==tx_wlsr1)
                {
                    wlsr = "WLSR1_TILE";
                    break ;
                }
            }
            foreach tx_wlsr1b(L_WLSR1B_TILES_X)
            {
                if(tx==tx_wlsr1b)
                {
                    wlsr = "WLSR1_100H_TILE";
                    break ;
                }
            }
            foreach tx_wlsr(L_WLSR_TILES_X)
            {
                if(tx==tx_wlsr)
                {
                    wlsr = "WLSR_TILE";
                    break ;
                }
            }
            foreach ty_clm({[2:15,17:30]})
            {
                ty = ty_clm + rx * NUM_TILES_REGION ;

                if(!(tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X && ty>=HSST_TILE_U_L_Y - 1))
                {
                    if(!(tx>=PCIE_TILE_L_X && tx<=PCIE_TILE_R_X && ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y))
                    {
                        connect_CLM_gs_addr_input(tx, ty_clm, rx, "CLMA_TILE", wlsr,0);
                    }
                }
            }
            if(!(rx==NUM_REGION-1))
            {
                ty = 31 + rx * NUM_TILES_REGION ;

                if(!(tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X && ty>=HSST_TILE_U_L_Y - 1))
                {
                    if(!(tx>=PCIE_TILE_L_X && tx<=PCIE_TILE_R_X && ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y))
                    {
                        connect_CLM_gs_addr_input(tx, 31, rx, "CLMA_TILE", wlsr,0);
                    }
                }
            }
            if(!(rx==0))
            {
                ty = 1 + rx * NUM_TILES_REGION ;

                if(!(tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X && ty>=HSST_TILE_U_L_Y - 1))
                {
                    if(!(tx>=PCIE_TILE_L_X && tx<=PCIE_TILE_R_X && ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y))
                    {
                        connect_CLM_gs_addr_input(tx, 1, rx, "CLMA_TILE", wlsr,0);
                    }
                }
            }
        }
        foreach tx(l_clms_tx)
        {
            if(tx!=PLL_TILE_X)
            {            
                foreach tx_wlsr1(L_WLSR1_TILES_X)
                {
                    if(tx==tx_wlsr1)
                    {
                        wlsr = "WLSR1_TILE";
                        break ;
                    }
                }
                foreach tx_wlsr1b(L_WLSR1B_TILES_X)
                {
                    if(tx==tx_wlsr1b)
                    {
                        wlsr = "WLSR1_100H_TILE";
                        break ;
                    }
                }
                foreach tx_wlsr(L_WLSR_TILES_X)
                {
                    if(tx==tx_wlsr)
                    {
                        wlsr = "WLSR_TILE";
                        break ;
                    }
                }
                foreach ty_clm({[2:15,17:30]})
                {
                    ty = ty_clm + rx * NUM_TILES_REGION ;

                    if(!(tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X && ty>=HSST_TILE_U_L_Y - 1))
                    {
                        if(!(tx>=PCIE_TILE_L_X && tx<=PCIE_TILE_R_X && ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y))
                        {
                            connect_CLM_gs_addr_input(tx, ty_clm, rx, "CLMS_TILE", wlsr,0);
                        }
                    }
                }
                if(!(rx==NUM_REGION-1))
                {
                    ty = 31 + rx * NUM_TILES_REGION ;

                    if(!(tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X && ty>=HSST_TILE_U_L_Y - 1))
                    {
                        if(!(tx>=PCIE_TILE_L_X && tx<=PCIE_TILE_R_X && ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y))
                        {
                            connect_CLM_gs_addr_input(tx, 31, rx, "CLMS_TILE", wlsr,0);
                        }
                    }
                }
                if(!(rx==0))
                {
                    ty = 1 + rx * NUM_TILES_REGION ;

                    if(!(tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X && ty>=HSST_TILE_U_L_Y - 1))
                    {
                        if(!(tx>=PCIE_TILE_L_X && tx<=PCIE_TILE_R_X && ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y))
                        {
                            connect_CLM_gs_addr_input(tx, 1, rx, "CLMS_TILE", wlsr,0);
                        }
                    }
                }
            }
        }
    } // end region loop

     wlsr = "WLSR2_TILE" ;

    int ty_tmp1 ;
 
    foreach rx ( L_REGIONS )
    {
        foreach ty_tmp ( L_CLM_TILES_PLL_Y )
        {
            ty = ty_tmp - rx * NUM_TILES_REGION ;

            foreach ty_tmp1({[1:31]})
            {
                if(ty==ty_tmp1)
                {
                    connect_CLM_gs_addr_input(PLL_TILE_X, ty, rx, "CLMS_TILE", wlsr,0);
                }
            }
        }
    }

// for drm addr

    int ty_drm ; 
    
    foreach rx( L_REGIONS )
    {
        foreach tx( L_DRM_TILES_X)
        {
            foreach ty_drm({1,6,11,17,22,27})
            {
                ty = ty_drm + rx * NUM_TILES_REGION ;

                if(!(tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X && ty>=HSST_TILE_U_L_Y - 1))
                {
                    if(!((tx>PCIE_TILE_L_X && tx<PCIE_TILE_R_X) && (ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y)))
                    {
                        connect_DRM_gs_addr_input(tx, rx, ty_drm);
                    }
                }
            }
        }
    }

// for apm addr

    int ty_apm ; 
    
    foreach rx( L_REGIONS )
    {
        foreach tx( L_APM_TILES_X )
        {
            foreach ty_apm({1,4,7,10,13,17,20,23,26,29})
            {
                ty = ty_apm + rx * NUM_TILES_REGION ;

                if(!(tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X && ty>=HSST_TILE_U_L_Y - 1))
                {
                    if(!((tx>PCIE_TILE_L_X && tx<PCIE_TILE_R_X) && (ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y)))
                    {
                        connect_APM_gs_addr_input(tx, rx, ty_apm);
                    }
                }
            }
        }
    }

// for pll addr

    int ty_pll ;   

    foreach rx( L_REGIONS )
    {
        foreach tx( {PLL_TILE_X})
        {
            foreach ty_pll({12,17})
            {
                ty = ty_pll + rx * NUM_TILES_REGION;
        
                if(ty<=NUM_TILE_HALF_Y + 2 * NUM_TILES_REGION)
                {
                    connect_PLL_gs_addr_input( tx, rx, ty_pll,"PLL_100H_TILE");
                }
            } 
        }    
    } 

// for uscm addr

    connect_USCM_gs_addr_input( BLSR_TILE_X_L, PLL_TILE_X, 0, USCM0_TILE_LOC_Y);
    connect_USCM_gs_addr_input( BLSR_TILE_X_L, PLL_TILE_X, 1, USCM1_TILE_LOC_Y);

// for iol_v rlybufs7 addr

    foreach rx( L_REGIONS )
    {
        foreach tx( {IOL_TILE_X_L,IOL_TILE_X_R})
        {
            int ty_iol[] = (tx==IOL_TILE_X_L) ? L_IOL_TILES_Y_L : L_IOL_TILES_Y_R ;

            foreach ty( ty_iol )
            {
                rx_tmp = (ty < NUM_TILES_REGION + f_begin) ? 0 :
                         (ty < 2*NUM_TILES_REGION + f_begin) ? 1 : 2 ;

                ty_tmp = ty - rx_tmp * NUM_TILES_REGION ;

                if(rx==rx_tmp)
                {
                    connect_iol_v_gs_addr_input(tx, rx_tmp, ty_tmp, "IOL_TILE", "IOCKGATEDLL_100H_TILE", 0,0);
                }
            }
            foreach ty( {7,14,25})
            {
                connect_iol_v_gs_addr_input(tx, rx, ty, "DQSL_TILE", "IOCKGATEDLL_100H_TILE", 0,0);
            }
            foreach ty_tmp({1})
            {
                ty = ty_tmp + rx * NUM_TILES_REGION ;
                
                if(rx>0)
                {
                    connect_iol_v_gs_addr_input(tx, rx, ty, "RLYBUFS7_TILE", "IOCKGATEDLL_100H_TILE", 0,1);
                }
            }
            if(rx==1)
            {
                ty = rx * NUM_TILES_REGION + 18 ;

                connect_iol_v_gs_addr_input(tx, rx, ty, "RLYBUFS7_TILE", "IOCKGATEDLL_100H_TILE", 0,1);
            }

            int ty_cramsl2[] = (tx==IOL_TILE_X_L) ? L_CRAMSL2_TILES_Y_L : L_CRAMSL2_TILES_Y_R ;

            foreach ty(ty_cramsl2)
            {
                rx_tmp = (ty < NUM_TILES_REGION + f_begin) ? 0 :
                         (ty < 2*NUM_TILES_REGION + f_begin) ? 1 : 2 ;

                ty_tmp = ty - rx_tmp * NUM_TILES_REGION ;

                if(rx==rx_tmp)
                {
                    connect_cramsl2_addr_input(tx, rx_tmp, ty_tmp, "CRAMSL2_TILE", "IOCKGATEDLL_100H_TILE", 1);
                }
            }
        }
    }

// for iol_h addr

    int tx_iol;

    foreach tx_iol(L_IOL_TILES_X_U)
    {
        foreach tx_wlsr1(L_WLSR1_TILES_X)
        {
            if(tx_iol==tx_wlsr1)
            {
                wlsr = "WLSR1_TILE";
                break ;
            }
        }
        foreach tx_wlsr1b(L_WLSR1B_TILES_X)
        {
            if(tx_iol==tx_wlsr1b)
            {
                wlsr = "WLSR1_100H_TILE";
                break ;
            }
        }
        foreach tx_wlsr(L_WLSR_TILES_X)
        {
            if(tx_iol==tx_wlsr)
            {
                wlsr = "WLSR_TILE";
                break ;
            }
        }            

        if(tx_iol==PLL_TILE_X)
        {
            wlsr = "WLSR2_TILE";
        }
        connect_iol_h_gs_addr_input(tx_iol, 2, IOL_TILE_Y_U, "IOLTB_TILE", wlsr);        
    }
    foreach tx_iol(L_IOL_TILES_X_D)
    {
        foreach tx_wlsr1(L_WLSR1_TILES_X)
        {
            if(tx_iol==tx_wlsr1)
            {
                wlsr = "WLSR1_TILE";
                break ;
            }
        }
        foreach tx_wlsr1b(L_WLSR1B_TILES_X)
        {
            if(tx_iol==tx_wlsr1b)
            {
                wlsr = "WLSR1_100H_TILE";
                break ;
            }
        }
        foreach tx_wlsr(L_WLSR_TILES_X)
       {
            if(tx_iol==tx_wlsr)
            {
                wlsr = "WLSR_TILE";
                break ;
            }
        }            

        if(tx_iol==PLL_TILE_X)
        {
            wlsr = "WLSR2_TILE";
        }
        connect_iol_h_gs_addr_input(tx_iol, 0, IOL_TILE_Y_D, "IOLTB_TILE", wlsr);        
    }

// for CRAMSL7206 addr

    foreach tx_iol(L_CRAMSL7206_TILES_X_U)
    {
        foreach tx_wlsr1(L_WLSR1_TILES_X)
        {
            if(tx_iol==tx_wlsr1)
            {
                wlsr = "WLSR1_TILE";
                break ;
            }
        }
        foreach tx_wlsr1b(L_WLSR1B_TILES_X)
        {
            if(tx_iol==tx_wlsr1b)
            {
                wlsr = "WLSR1_100H_TILE";
                break ;
            }
        }
        foreach tx_wlsr(L_WLSR_TILES_X)
        {
            if(tx_iol==tx_wlsr)
            {
                wlsr = "WLSR_TILE";
                break ;
            }
        }            

        if(tx_iol==PLL_TILE_X)
        {
            wlsr = "WLSR2_TILE";
        }
        connect_cramsl7206_h_gs_addr_input(tx_iol, 2, IOL_TILE_Y_U, "CRAMSL7206_TILE", wlsr);        
    }
    foreach tx_iol(L_CRAMSL7206_TILES_X_D)
    {
        foreach tx_wlsr1(L_WLSR1_TILES_X)
        {
            if(tx_iol==tx_wlsr1)
            {
                wlsr = "WLSR1_TILE";
                break ;
            }
        }
        foreach tx_wlsr1b(L_WLSR1B_TILES_X)
        {
            if(tx_iol==tx_wlsr1b)
            {
                wlsr = "WLSR1_100H_TILE";
                break ;
            }
        }
        foreach tx_wlsr(L_WLSR_TILES_X)
       {
            if(tx_iol==tx_wlsr)
            {
                wlsr = "WLSR_TILE";
                break ;
            }
        }            

        if(tx_iol==PLL_TILE_X)
        {
            wlsr = "WLSR2_TILE";
        }
        connect_cramsl7206_h_gs_addr_input(tx_iol,0,IOL_TILE_Y_D,"CRAMSL7206_TILE",wlsr);        
    }

// for iockdll addr

    foreach rx({0,2})
    {
        int ty_loc = (rx==0) ? IOCKDLL_TILE_LOC_Y_D : IOCKDLL_TILE_LOC_Y_U ;

        tx_l = (rx==0) ? IOCKDLL_TILE_X_D_L : IOCKDLL_TILE_X_U_L ;
        tx_r = (rx==0) ? IOCKDLL_TILE_X_D_R : IOCKDLL_TILE_X_U_R ;

        connect_iockdll_gs_addr_input(rx, tx_l, BLSR_TILE_X_L, ty_loc, "IOCKDLL_TILE", "WLSR_TILE");
        connect_iockdll_gs_addr_input(rx, tx_r, BLSR_TILE_X_R, ty_loc, "IOCKDLL_TILE", "WLSR_TILE");
    }

// for clkmux addr

    foreach rx( {2} )
    {
        foreach tx( {PLL_TILE_X})
        {
            foreach ty_pll({15,17})
            {
                ty = ty_pll + rx * NUM_TILES_REGION;
        
                if(!(ty<=NUM_TILE_HALF_Y + 2 * NUM_TILES_REGION))
                {
                    connect_PLL_gs_addr_input( tx, rx, ty_pll,"CLKMUX_100H_TILE");
                }
            } 
        }    
    }

// for pcie addr

    foreach rx( {1,2} )
    {
        addr = (rx==1) ? "ADDR_D" : "ADDR_U" ;

        string addr_b = (rx==1) ? "ADDR_DN" : "ADDR_UP" ;
        string addr_c = (rx==1) ? "ADDR_C_DN" : "ADDR_C_UP" ;
        string col_sel = (rx==1) ? "COL_SEL_DN" : "COL_SEL_UP" ;
        string read_or = (rx==1) ? "READ_OR_DN" : "READ_OR_UP" ;
        string tielo = (rx==1) ? "TIELO_0" : "TIELO_1";

        connect_pcie_wl_input_50h(PCIE_TILE_L_X, rx, PCIE_TILE_L_Y,PCIE_TILE_R_X,BLSR_TILE_X_L,PCIE_TILE_L_X,addr_c,addr_b,col_sel,read_or,addr,tielo,"PCIE_TILE");
    }
// for hsst addr

    foreach rx( {2} )
    {
        ty =  HSST_TILE_U_L_Y ;

        blsr = "BLSR1_TILE" ;

        connect_hsst_wl_input_50h(HSST_TILE_U_L_X, ty,BLSR_TILE_X_L,BLSR_TILE_X_R,blsr);
    }

// for  iob_h addr

    foreach rx( {0,2} )
    {
        string iob = (rx==2) ? "IOB0_TILE" : "IOB2_TILE" ;

        int ty = (rx==2) ? IOB0_TILE_Y : IOB2_TILE_Y ;

        connect_iob_addr_h_input_50h( IOB0_TILE_X, ty, iob, rx);
    }
// for piomux addr 

     wlsr = "WLSR2_TILE" ;

    foreach rx( {0,2} )
    {
        foreach tx( {PLL_TILE_X})
        {
            foreach ty_pll(L_PIOMUX_TILES_Y)
            {
                ty = ty_pll - rx * NUM_TILES_REGION;
        
                foreach ty_tmp1({[1:31]})
                {
                    if(ty==ty_tmp1)
                    {
                        connect_PLL_gs_addr_input( tx, rx, ty,"PIOMUX_TILE");
                    }
                }
            } 
        }    
    }

};//end of structure arch_nl connect_addr_sig of PGL50H
/***************************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs;
use pgl50h_connect_wl_bl,pgl_funcs_connect_gs_wl;
use pgl_funcs_connect_gs_wl_100h;

structure arch_nl connect_bl of PGL50H
{
    unsigned int tx_ccs = CCS_TILE_X;
    unsigned int ty_ccs = CCS_TILE_Y;
    unsigned int l_tx_srb[] = L_SRB_TILES_X;  
    unsigned int l_tx_clma[] = L_CLMA_TILES_X;  
    unsigned int l_tx_clms[] = L_CLMS_TILES_X;  
    unsigned int l_tx_clm[] = L_CLM_TILES_X;
    unsigned int l_tx_drm[] = L_DRM_TILES_X;  
    unsigned int l_tx_apm[] = L_APM_TILES_X;  
    unsigned int l_tx_wlsr[] = L_WLSR_TILES_X;  
    unsigned int l_tx_wlsrd[] = L_DRM_TILES_X;  
    unsigned int l_tx_wlsra[] = L_APM_TILES_X;  
    unsigned int l_tx_wlsr1[] = L_WLSR1_TILES_X;  
    unsigned int l_tx_wlsr1b[] = L_WLSR1B_TILES_X;  
    unsigned int l_tx_wlsr2[] = {PLL_TILE_X};  
    unsigned int tx_pll = PLL_TILE_X;  

    unsigned int tx, rx, tx_blsr, ty_blsr, ty,tx_tmp,f_srb;
    unsigned int f_begin,f_y0,f_y1,f_y2,f_y3,f_y4,f_y5,f_y6,f_y7,f_y8,f_y9,f_y10,f_y11,f_y12,f_y13,f_y14,f_y15,f_y16,f_y17,f_y18,f_y19,f_y20,f_y21,f_y22,f_y23,f_y24,f_y25,f_y26,f_y27,f_y28,f_y29 ;

    string data,datan,data_ori,datan_ori ;

    string blsr,srb ;

    blsr = "BLSR1_TILE" ;

    f_begin = NUM_TILE_START_Y ;

// for srb bl

    foreach rx(L_REGIONS)
    {
        f_srb = 1 ;

        srb = "SRB_TILE" ;

        foreach tx(L_SRB_TILES_X)
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            if(!(tx==BLSR_TILE_X_L||tx==BLSR_TILE_X_R))
            {
                f_y0 = 1 ;
                f_y1 = 1 ;
                f_y2 = 1 ;
                f_y3 = 1 ;
                f_y4 = 1 ;
                f_y5 = 1 ;
                f_y6 = 1 ;
                f_y7 = 1 ;
                f_y8 = 1 ;
                f_y9 = 1 ;
                f_y10 = 1 ;
                f_y11 = 1 ;
                f_y12 = 1 ;
                f_y13 = 1 ;
                f_y14 = 1 ;
                f_y15 = 1 ;
                f_y16 = 1 ;
                f_y17 = 1 ;
                f_y18 = 1 ;
                f_y19 = 1 ;
                f_y20 = 1 ;
                f_y21 = 1 ;
                f_y22 = 1 ;
                f_y23 = 1 ;
                f_y24 = 1 ;
                f_y25 = 1 ;
                f_y26 = 1 ;
                f_y27 = 1 ;
                f_y28 = 1 ;
                f_y29 = 1 ; 

                if(rx==2&&tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X)
                {
                    f_y21 = 0 ;
                    f_y22 = 0 ;
                    f_y23 = 0 ;
                    f_y24 = 0 ;
                    f_y25 = 0 ;
                    f_y26 = 0 ;
                    f_y27 = 0 ;
                    f_y28 = 0 ;
                    f_y29 = 0 ;                
                }
                if(rx==1&&tx>PCIE_TILE_L_X && tx<PCIE_TILE_R_X)
                {
                    f_y15 = 0 ;
                    f_y16 = 0 ;
                    f_y17 = 0 ;
                    f_y18 = 0 ;
                    f_y19 = 0 ;
                    f_y20 = 0 ;
                    f_y21 = 0 ;
                    f_y22 = 0 ;
                    f_y23 = 0 ;
                    f_y24 = 0 ;
                    f_y25 = 0 ;
                    f_y26 = 0 ;
                    f_y27 = 0 ;
                    f_y28 = 0 ;
                    f_y29 = 0 ;                
                }
                if(rx==2&&tx>PCIE_TILE_L_X && tx<PCIE_TILE_R_X)
                {
                    f_y0  = 0 ;
                    f_y1  = 0 ;
                    f_y2  = 0 ;
                    f_y3  = 0 ;
                    f_y4  = 0 ;
                    f_y5  = 0 ;
                    f_y6  = 0 ;
                    f_y7  = 0 ;
                    f_y8  = 0 ;
                    f_y9  = 0 ;
                    f_y10 = 0 ;
                    f_y11 = 0 ;
                    f_y12 = 0 ;
                    f_y13 = 0 ;
                    f_y14 = 0 ;                
                }

                tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
                
                connect_SRB_bl_input_100h( tx,rx,tx_blsr,blsr,srb,f_srb,f_begin,f_y0,f_y1,f_y2,f_y3,f_y4,f_y5,f_y6,f_y7,f_y8,f_y9,f_y10,f_y11,f_y12,f_y13,f_y14,f_y15,f_y16,f_y17,f_y18,f_y19,f_y20,f_y21,f_y22,f_y23,f_y24,f_y25,f_y26,f_y27,f_y28,f_y29);
            }
        }

// for clm bl

        foreach tx(l_tx_clm)
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            f_srb = 0 ;

            srb = "CLMA_TILE" ;

            foreach tx_tmp(l_tx_clms)
            {
                if(tx==tx_tmp)
                {
                    srb = "CLMS_TILE" ;
                    break ;
                }
            }

            f_y0 = 1 ;
            f_y1 = 1 ;
            f_y2 = 1 ;
            f_y3 = 1 ;
            f_y4 = 1 ;
            f_y5 = 1 ;
            f_y6 = 1 ;
            f_y7 = 1 ;
            f_y8 = 1 ;
            f_y9 = 1 ;
            f_y10 = 1 ;
            f_y11 = 1 ;
            f_y12 = 1 ;
            f_y13 = 1 ;
            f_y14 = 1 ;
            f_y15 = 1 ;
            f_y16 = 1 ;
            f_y17 = 1 ;
            f_y18 = 1 ;
            f_y19 = 1 ;
            f_y20 = 1 ;
            f_y21 = 1 ;
            f_y22 = 1 ;
            f_y23 = 1 ;
            f_y24 = 1 ;
            f_y25 = 1 ;
            f_y26 = 1 ;
            f_y27 = 1 ;
            f_y28 = 1 ;
            f_y29 = 1 ; 

            if(rx==2&&tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X)
            {
                f_y20 = 0 ;
                f_y21 = 0 ;
                f_y22 = 0 ;
                f_y23 = 0 ;
                f_y24 = 0 ;
                f_y25 = 0 ;
                f_y26 = 0 ;
                f_y27 = 0 ;
                f_y28 = 0 ;
                f_y29 = 0 ;                
            }
            if(rx==1&&tx>=PCIE_TILE_L_X && tx<=PCIE_TILE_R_X)
            {
                f_y15 = 0 ;
                f_y16 = 0 ;
                f_y17 = 0 ;
                f_y18 = 0 ;
                f_y19 = 0 ;
                f_y20 = 0 ;
                f_y21 = 0 ;
                f_y22 = 0 ;
                f_y23 = 0 ;
                f_y24 = 0 ;
                f_y25 = 0 ;
                f_y26 = 0 ;
                f_y27 = 0 ;
                f_y28 = 0 ;
                f_y29 = 0 ;                
            }
            if(rx==2&&tx>=PCIE_TILE_L_X && tx<=PCIE_TILE_R_X)
            {
                f_y0  = 0 ;
                f_y1  = 0 ;
                f_y2  = 0 ;
                f_y3  = 0 ;
                f_y4  = 0 ;
                f_y5  = 0 ;
                f_y6  = 0 ;
                f_y7  = 0 ;
                f_y8  = 0 ;
                f_y9  = 0 ;
                f_y10 = 0 ;
                f_y11 = 0 ;
                f_y12 = 0 ;
                f_y13 = 0 ;
                f_y14 = 0 ;                
            }
            if((rx==0||rx==1)&&tx==PLL_TILE_X)
            {
                f_y15  = 0 ;
                f_y16  = 0 ;
                f_y17  = 0 ;
                f_y18  = 0 ;
            }
            if(tx==PLL_TILE_X)
            {
                f_y11  = 0 ;
                f_y12  = 0 ;
                f_y13  = 0 ;
                f_y14  = 0 ;
            }
            if(rx==2&&tx==PLL_TILE_X)
            {
                f_y15  = 0 ;
            }
            if(rx==0)
            {
                f_y0  = 0 ;
            }
            if(rx==2)
            {
                f_y29  = 0 ;
            }
            if(rx==0&&tx==PLL_TILE_X)
            {
                f_y1  = 0 ;
                f_y28  = 0 ;
                f_y29  = 0 ;
            }
            if(rx==1&&tx==PLL_TILE_X)
            {
                f_y0  = 0 ;
                f_y1  = 0 ;
            }

            tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            connect_SRB_bl_input_100h( tx,rx,tx_blsr,blsr,srb,f_srb,f_begin,f_y0,f_y1,f_y2,f_y3,f_y4,f_y5,f_y6,f_y7,f_y8,f_y9,f_y10,f_y11,f_y12,f_y13,f_y14,f_y15,f_y16,f_y17,f_y18,f_y19,f_y20,f_y21,f_y22,f_y23,f_y24,f_y25,f_y26,f_y27,f_y28,f_y29);
        }
    } // end of region loop

// for drm bl

    string drm ;

    int f_drm ;

    foreach rx(L_REGIONS)
    {
        f_drm = 1 ;

        drm = "DRM_TILE" ;

        foreach tx(L_DRM_TILES_X)
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            f_y0 = 1 ;
            f_y1 = 1 ;
            f_y2 = 1 ;
            f_y3 = 1 ;
            f_y4 = 1 ;
            f_y5 = 1 ;

            if(rx==2&&tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X)
            {
                f_y4 = 0 ;
                f_y5 = 0 ;
            }
            if(rx==1&&tx>PCIE_TILE_L_X && tx<PCIE_TILE_R_X)
            {
                f_y3 = 0 ;
                f_y4 = 0 ;
                f_y5 = 0 ;
            }
            if(rx==2&&tx>PCIE_TILE_L_X && tx<PCIE_TILE_R_X)
            {
                f_y0  = 0 ;
                f_y1  = 0 ;
                f_y2  = 0 ;
            }

            tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            connect_DRM_bl_input_100h( tx,rx,tx_blsr,blsr,drm,f_drm,f_begin,f_y0,f_y1,f_y2,f_y3,f_y4,f_y5);
        }
    }

// for apm bl

    string apm ;

    int f_apm ;

    foreach rx(L_REGIONS)
    {
        f_apm = 1 ;

        apm = "APM_TILE" ;

        foreach tx(L_APM_TILES_X)
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            f_y0 = 1 ;
            f_y1 = 1 ;
            f_y2 = 1 ;
            f_y3 = 1 ;
            f_y4 = 1 ;
            f_y5 = 1 ;
            f_y6 = 1 ;
            f_y7 = 1 ;
            f_y8 = 1 ;
            f_y9 = 1 ;

            if(rx==NUM_REGION-1&&tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X)
            {
                f_y7 = 0 ;
                f_y8 = 0 ;
                f_y9 = 0 ;
            }

            tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            connect_APM_bl_input_100h( tx,rx,tx_blsr,blsr,apm,f_apm,f_begin,f_y0,f_y1,f_y2,f_y3,f_y4,f_y5,f_y6,f_y7,f_y8,f_y9);
        }
    }

// for iol_v bl 

    srb="IOL_TILE" ;
    f_srb=0 ;

    foreach rx(L_REGIONS)
    {
        foreach tx({IOL_TILE_X_L,IOL_TILE_X_R})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;

            f_y0  = 0 ;
            f_y1  = 1 ;
            f_y2  = 1 ;
            f_y3  = 1 ;
            f_y4  = 1 ;
            f_y5  = 1 ;
            f_y6  = 0 ;
            f_y7  = 0 ;
            f_y8  = 1 ;
            f_y9  = 1 ;
            f_y10 = 1 ;
            f_y11 = 1 ;
            f_y12 = 1 ;
            f_y13 = 0 ;
            f_y14 = 0 ;
            f_y15 = 0 ;
            f_y16 = 0 ;
            f_y17 = 1 ;
            f_y18 = 1 ;
            f_y19 = 1 ;
            f_y20 = 1 ;
            f_y21 = 1 ;
            f_y22 = 0 ;
            f_y23 = 0 ;
            f_y24 = 1 ;
            f_y25 = 1 ;
            f_y26 = 1 ;
            f_y27 = 1 ;
            f_y28 = 1 ;
            f_y29 = 0 ;

            if(tx==IOL_TILE_X_L)
            {
                if(rx==0)
                {
                    f_y1 = 0 ;
                    f_y2 = 0 ;
                }
            }
            if(tx==IOL_TILE_X_R)
            {
                if(rx==0)
                {
                    f_y1 = 0 ;
                    f_y2 = 0 ;
                    f_y3 = 0 ;
                    f_y4 = 0 ;
                }
            }

            connect_SRB_bl_input_100h( tx,rx,tx_blsr,blsr,srb,f_srb,f_begin,f_y0,f_y1,f_y2,f_y3,f_y4,f_y5,f_y6,f_y7,f_y8,f_y9,f_y10,f_y11,f_y12,f_y13,f_y14,f_y15,f_y16,f_y17,f_y18,f_y19,f_y20,f_y21,f_y22,f_y23,f_y24,f_y25,f_y26,f_y27,f_y28,f_y29);
        }
    }

// for cramsl2 bl

    srb="CRAMSL2_TILE" ;
    f_srb=0 ;

    foreach rx(L_REGIONS)
    {
        foreach tx({IOL_TILE_X_L,IOL_TILE_X_R})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;

            f_y0  = 0 ;
            f_y1  = 0 ;
            f_y2  = 0 ;
            f_y3  = 0 ;
            f_y4  = 0 ;
            f_y5  = 0 ;
            f_y6  = 0 ;
            f_y7  = 1 ;
            f_y8  = 0 ;
            f_y9  = 0 ;
            f_y10 = 0 ;
            f_y11 = 0 ;
            f_y12 = 0 ;
            f_y13 = 0 ;
            f_y14 = 0 ;
            f_y15 = 0 ;
            f_y16 = 1 ;
            f_y17 = 0 ;
            f_y18 = 0 ;
            f_y19 = 0 ;
            f_y20 = 0 ;
            f_y21 = 0 ;
            f_y22 = 1 ;
            f_y23 = 0 ;
            f_y24 = 0 ;
            f_y25 = 0 ;
            f_y26 = 0 ;
            f_y27 = 0 ;
            f_y28 = 0 ;
            f_y29 = 1 ;

            if(tx==IOL_TILE_X_L)
            {
                if(rx==0)
                {
                    f_y1 = 1 ;
                    f_y2 = 1 ;
                }
            }
            if(rx==1)
            {
                f_y16 = 0 ;
            }
            if(rx==2)
            {
                f_y29 = 0 ;
            }

            connect_SRB_bl_input_100h( tx,rx,tx_blsr,blsr,srb,f_srb,f_begin,f_y0,f_y1,f_y2,f_y3,f_y4,f_y5,f_y6,f_y7,f_y8,f_y9,f_y10,f_y11,f_y12,f_y13,f_y14,f_y15,f_y16,f_y17,f_y18,f_y19,f_y20,f_y21,f_y22,f_y23,f_y24,f_y25,f_y26,f_y27,f_y28,f_y29);
        }
    }

// for rlybufs7 bl

    srb="RLYBUFS7_TILE" ;

    f_srb=0 ;

    foreach rx(L_REGIONS)
    {
        foreach tx({IOL_TILE_X_L,IOL_TILE_X_R})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;

            f_y0  = 1 ;
            f_y1  = 0 ;
            f_y2  = 0 ;
            f_y3  = 0 ;
            f_y4  = 0 ;
            f_y5  = 0 ;
            f_y6  = 0 ;
            f_y7  = 0 ;
            f_y8  = 0 ;
            f_y9  = 0 ;
            f_y10 = 0 ;
            f_y11 = 0 ;
            f_y12 = 0 ;
            f_y13 = 0 ;
            f_y14 = 0 ;
            f_y15 = 0 ;
            f_y16 = 0 ;
            f_y17 = 0 ;
            f_y18 = 0 ;
            f_y19 = 0 ;
            f_y20 = 0 ;
            f_y21 = 0 ;
            f_y22 = 0 ;
            f_y23 = 0 ;
            f_y24 = 0 ;
            f_y25 = 0 ;
            f_y26 = 0 ;
            f_y27 = 0 ;
            f_y28 = 0 ;
            f_y29 = 0 ;

            if(rx==0)
            {
                f_y0 = 0 ;
            }
            if(rx==1)
            {
                f_y16 = 1 ;
            }

            connect_SRB_bl_input_100h( tx,rx,tx_blsr,blsr,srb,f_srb,f_begin,f_y0,f_y1,f_y2,f_y3,f_y4,f_y5,f_y6,f_y7,f_y8,f_y9,f_y10,f_y11,f_y12,f_y13,f_y14,f_y15,f_y16,f_y17,f_y18,f_y19,f_y20,f_y21,f_y22,f_y23,f_y24,f_y25,f_y26,f_y27,f_y28,f_y29);
        }
    }

// for dqsl bl

    foreach rx(L_REGIONS)
    {
        foreach tx({IOL_TILE_X_L,IOL_TILE_X_R})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            f_y0 = 1 ;

            tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            connect_iockgate_bl_input_100h( rx, tx, tx_blsr , f_begin, blsr, f_y0);

            f_y0 = 1 ;
            f_y1 = 1 ;
            f_y2 = 1 ;

            tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            connect_dqsl_bl_input_100h( rx, tx, tx_blsr , f_begin, blsr, f_y0,f_y1,f_y2);
        }
    }

// for iol_h iockdll bl

    foreach tx(L_IOL_TILES_X_U)
    {
        int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
    
        connect_iol_bl_h_input( tx, tx_blsr, 0, 2, IOL_TILE_Y_U, IOL_TILE_Y_D, "IOLTB_TILE", "BLSR1_TILE", "BLSR1_TILE", 1);
    }
    foreach tx(L_BLSR_TILES_X)
    {
        int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
    
        connect_iol_bl_h_input( tx, tx_blsr, 0, 2, IOCKDLL_TILE_LOC_Y_U,IOCKDLL_TILE_LOC_Y_D, "IOCKDLL_TILE", "BLSR1_TILE", "BLSR1_TILE", 1);
    }

    foreach tx(L_IOL_TILES_X_D)
    {
        blsr = (tx>tx_pll) ? "BLSR2_TILE" : "BLSR1_TILE" ;

        int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
    
        connect_iol_bl_h_input( tx, tx_blsr, 0, 2, IOL_TILE_Y_U, IOL_TILE_Y_D, "IOLTB_TILE", "BLSR1_TILE", blsr, 0);
    }
    foreach tx(L_BLSR_TILES_X)
    {
        blsr = (tx>tx_pll) ? "BLSR2_TILE" : "BLSR1_TILE" ;

        int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
    
        connect_iol_bl_h_input( tx, tx_blsr, 0, 2, IOCKDLL_TILE_LOC_Y_U,IOCKDLL_TILE_LOC_Y_D, "IOCKDLL_TILE", "BLSR1_TILE",blsr , 0);
    }

// for cramsl7206 bl

    foreach tx(L_CRAMSL7206_TILES_X_U)
    {
        int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
    
        connect_cramsl7206_bl_input( tx, IOL_TILE_Y_U, tx_blsr, 2, "BLSR1_TILE", 1, 0);
    }
    foreach tx(L_CRAMSL7206_TILES_X_D)
    {
        blsr = (tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

        int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
    
        connect_cramsl7206_bl_input( tx, IOL_TILE_Y_D, tx_blsr, 0, blsr, 0, 0);
    }
// for wlsr bl

    foreach rx(L_REGIONS)
    {
        f_y0 = 1 ;
    
        foreach tx({l_tx_wlsr})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            connect_wlsr_bl_input_100h( rx, tx, tx_blsr, f_begin, blsr, "WLSR_TILE", f_y0);
        }

        foreach tx({l_tx_wlsrd})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            connect_wlsr_bl_input_100h( rx, tx, tx_blsr, f_begin, blsr, "WLSRD_TILE", f_y0);
        }

        foreach tx({l_tx_wlsra})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            connect_wlsr_bl_input_100h( rx, tx, tx_blsr, f_begin, blsr, "WLSRA_TILE", f_y0);
        }

        foreach tx({l_tx_wlsr1})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            connect_wlsr_bl_input_100h( rx, tx, tx_blsr, f_begin, blsr, "WLSR1_TILE", f_y0);
        }
        foreach tx({l_tx_wlsr1b})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            connect_wlsr_bl_input_100h( rx, tx, tx_blsr, f_begin, blsr, "WLSR1_100H_TILE", f_y0);
        }

        foreach tx({l_tx_wlsr2})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            connect_wlsr_bl_input_100h( rx, tx, tx_blsr, f_begin, blsr, "WLSR2_TILE", f_y0);
        }
    }

// for pll bl

    foreach rx(L_REGIONS)
    {
        f_y0 = 1 ;
        f_y1 = 1 ;

        if(rx==2)
        {
            f_y1=0 ;
        }

        connect_PLL_bl_input_100h( rx, PLL_TILE_X, BLSR_TILE_X_L, "BLSR1_TILE", f_begin,f_y0,f_y1);
    }

// for uscm bl

    connect_USCM_bl_input( USCM_TILE_LOC_X, USCM1_TILE_LOC_Y, USCM0_TILE_LOC_Y, BLSR_TILE_X_L, 0, 1, "BLSR1_TILE", "BLSR1_TILE");

// for clkmux bl

    ty = 2 * NUM_TILES_REGION + PLL1_TILE_Y ;

    connect_clkmux_bl_input( PLL_TILE_X,ty,BLSR_TILE_X_L,2,"CLKMUX_100H_TILE","BLSR1_TILE",1,1);

// for pcie bl

    foreach rx({1,2})
    {
        srb = "PCIE_TILE" ;

        f_y0 = 0 ;
        f_y1 = 0 ;

        if(rx==1)       
        {
            f_y1=1 ;
        }

        if(rx==2)       
        {
            f_y0=1 ;
        }

        tx_blsr = BLSR_TILE_X_L ;
        
        blsr = "BLSR1_TILE";

        connect_pcie_bl_input( PCIE_TILE_L_X,PCIE_TILE_L_Y,rx,tx_blsr,blsr,srb,f_begin,f_y0,f_y1);
    }

// for hsst bl

    foreach rx({0,2})
    {
        srb = "HSST_TILE" ;

        int f_u = 0 ;
        int f_d = 0 ;


        if(rx==2)       
        {
            f_u=1 ;
        }

        blsr = "BLSR1_TILE" ;

        connect_hsst_bl_input_100h( HSST_TILE_U_L_X,rx,BLSR_TILE_X_L,blsr,srb,"DATA0","DATAN0",f_begin,f_u,f_d);
        connect_hsst_bl_input_100h( HSST_TILE_U_L_X,rx,BLSR_TILE_X_R,blsr,srb,"DATA1","DATAN1",f_begin,f_u,f_d);
    }

// for iob bl

    foreach rx(L_REGIONS)
    {
        foreach tx({IOB3_TILE_X,IOB1_TILE_X})
        {
            int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            string iob = (tx<=tx_pll) ? "IOB3_TILE" : "IOB1_TILE" ;

            data = (rx==0) ? "DATA0" : (rx==1) ? "DATA1" : "DATA2" ;
            datan = (rx==0) ? "DATAN0" : (rx==1) ? "DATAN1" : "DATAN2" ;
            data_ori="DATA";
            datan_ori="DATAN";
        
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            connect_iob_bl_input_100h( rx,tx, IOB1_TILE_Y, tx_blsr, iob, blsr, data,datan,data_ori,datan_ori);
        }
    }

    foreach rx({0,2})
    {
        foreach tx({IOB3_TILE_X,IOB1_TILE_X})
        {
            int tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            
            string iob = (rx==0) ? "IOB2_TILE" : "IOB0_TILE" ;

            ty = (rx==0) ? IOB2_TILE_Y : IOB0_TILE_Y ;

            data = (tx<=tx_pll) ? "DATA0" :  "DATA1"  ;
            datan = (tx<=tx_pll) ? "DATAN0" :  "DATAN1" ;

            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;
        
            connect_iob_bl_h_input_100h( rx,IOB0_TILE_X, ty, tx_blsr, iob, blsr, data,datan);
        }
    }
// for piomux bl

    foreach rx(L_REGIONS)
    {
        f_srb = 0 ;

        srb = "PIOMUX_TILE" ;

        foreach tx({PLL_TILE_X})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            if(!(tx==BLSR_TILE_X_L||tx==BLSR_TILE_X_R))
            {
                f_y0 = 0 ;
                f_y1 = 0 ;
                f_y2 = 0 ;
                f_y3 = 0 ;
                f_y4 = 0 ;
                f_y5 = 0 ;
                f_y6 = 0 ;
                f_y7 = 0 ;
                f_y8 = 0 ;
                f_y9 = 0 ;
                f_y10 = 0 ;
                f_y11 = 0 ;
                f_y12 = 0 ;
                f_y13 = 0 ;
                f_y14 = 0 ;
                f_y15 = 0 ;
                f_y16 = 0 ;
                f_y17 = 0 ;
                f_y18 = 0 ;
                f_y19 = 0 ;
                f_y20 = 0 ;
                f_y21 = 0 ;
                f_y22 = 0 ;
                f_y23 = 0 ;
                f_y24 = 0 ;
                f_y25 = 0 ;
                f_y26 = 0 ;
                f_y27 = 0 ;
                f_y28 = 0 ;
                f_y29 = 0 ; 

                if(rx==0)
                {
                    f_y1 = 1 ;
                }
                if(rx==2)
                {
                    f_y20 = 1 ;
                }
                tx_blsr = (tx<=tx_pll) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
                
                connect_SRB_bl_input_100h( tx,rx,tx_blsr,blsr,srb,f_srb,f_begin,f_y0,f_y1,f_y2,f_y3,f_y4,f_y5,f_y6,f_y7,f_y8,f_y9,f_y10,f_y11,f_y12,f_y13,f_y14,f_y15,f_y16,f_y17,f_y18,f_y19,f_y20,f_y21,f_y22,f_y23,f_y24,f_y25,f_y26,f_y27,f_y28,f_y29);
            }
        }
    }

};//end of structure arch_nl connect_bl of PGL50H
/***************************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs;
use pgl_funcs_connect_gs_wl_100h;

structure arch_nl connect_ccs_wl_bl of PGL50H
{
    int rx ;

    string blsr ;

    unsigned int tx = CCS_TILE_X;
    unsigned int ty = CCS_TILE_Y;

    foreach rx({0,2})
    {
        blsr = (rx==0) ? "BLSR2_TILE" : "BLSR1_TILE" ;

        int ty_wlsr = rx * NUM_TILES_REGION + MID_TILE_REGION - 1 ;

        connect_ccs_wl_bl_input_100h( rx, tx, ty, IOL_TILE_X_R, ty_wlsr, BLSR_TILE_X_R, "IOCKGATEDLL_100H_TILE", blsr);
    }

};//end of structure arch_nl connect_ccs_wl_bl of PGL50H
/***************************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs;
use pgl_funcs_connect_gs_wl_100h;

structure arch_nl connect_analog_wl_bl of PGL50H
{
    int rx ;

    string blsr1,blsr2 ,analog;

    analog = "ANALOG_PGL100H_TILE" ;

    int tx = ANALOG_TILE_X;
    int ty = ANALOG_TILE_Y;

    blsr1 = "BLSR1_TILE" ;
    blsr2 = "BLSR2_TILE" ;

    int tx_blsr_l = BLSR_TILE_X_L ; 
    int tx_blsr_r = BLSR_TILE_X_R ;
    int tx_iock_l = IOL_TILE_X_L ;

    foreach rx({0,2})
    {
        int flag_d = (rx==0) ? 1 : 0 ;

        connect_analog_wl_bl_input_100h(tx,ty,rx,tx_blsr_l,tx_blsr_r,tx_iock_l,analog,blsr1,blsr2,flag_d );
    }

};//end of structure arch_nl connect_analog_wl_bl of PGL50H
/***************************************************************************************
****************************************************************************************/
//library work;
//use pgl_defs,pgl50h_defs;
//use pgl_funcs_place,pgl_funcs_connect_gs_wl;
//use pgl_funcs_connect_blsr,pgl100h_funcs;
//
//structure arch_nl connect_esd_tile of PGL50H
//{
//  int tx,ty;
//
//  foreach tx( {ESD_PGL35ES_TILE_X} )
//  {
//    foreach ty( {ESD_PGL35ES_TILE_Y} )
//    {
//      connect_esd_tile( tx, ty);
//    }
//  }
//
//
//};//end of structure arch_nl connect_esd_tile of PGL50H
/***************************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs;
use pgl_funcs_connect_gs_wl;

structure arch_nl connect_MASK_BL2WL of PGL50H
{

    int rx,tx; 

    string blsr ;

    foreach rx(L_REGIONS)
    {
        foreach tx(L_WLSR_TILES_X)
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            string wlsr =  "WLSR_TILE" ;

            if(tx<=PLL_TILE_X)
            {
                connect_MASK_BL2WL(rx,tx,BLSR_TILE_X_L, blsr, wlsr, 1);
            }
            else
            {
                connect_MASK_BL2WL(rx,tx,BLSR_TILE_X_R, blsr, wlsr, 0);
            }
        }
        foreach tx(L_WLSR1_TILES_X)
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            string wlsr =  "WLSR1_TILE" ;

            if(tx<=PLL_TILE_X)
            {
                connect_MASK_BL2WL(rx,tx,BLSR_TILE_X_L, blsr, wlsr, 1);
            }
            else
            {
                connect_MASK_BL2WL(rx,tx,BLSR_TILE_X_R, blsr, wlsr, 0);
            }
        }
        foreach tx(L_WLSR1B_TILES_X)
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            string wlsr =  "WLSR1_100H_TILE" ;

            if(tx<=PLL_TILE_X)
            {
                connect_MASK_BL2WL(rx,tx,BLSR_TILE_X_L, blsr, wlsr, 1);
            }
            else
            {
                connect_MASK_BL2WL(rx,tx,BLSR_TILE_X_R, blsr, wlsr, 0);
            }
        }
        foreach tx({PLL_TILE_X})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            string wlsr =  "WLSR2_TILE" ;

            if(tx<=PLL_TILE_X)
            {
                connect_MASK_BL2WL(rx,tx,BLSR_TILE_X_L, blsr, wlsr, 1);
            }
            else
            {
                connect_MASK_BL2WL(rx,tx,BLSR_TILE_X_R, blsr, wlsr, 0);
            }
        }
    }
}
/***************************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs;
use pgl_funcs_connect_gs_wl;

structure arch_nl connect_MASK_WL2CLM of PGL50H
{

    int l_clms_tx[]=L_CLMS_TILES_X ;

    int tx_wlsr ,ty_clm,ty_tmp,tx, rx, ty;
    int tx_wlsr1 ,tx_wlsr1b;
    string wlsr ;

    foreach rx( L_REGIONS )
    {
        foreach tx(l_clms_tx)
        {
            if(tx!=PLL_TILE_X)
            {            
                foreach tx_wlsr1(L_WLSR1_TILES_X)
                {
                    if(tx==tx_wlsr1)
                    {
                        wlsr = "WLSR1_TILE";
                        break ;
                    }
                }
                foreach tx_wlsr1b(L_WLSR1B_TILES_X)
                {
                    if(tx==tx_wlsr1b)
                    {
                        wlsr = "WLSR1_100H_TILE";
                        break ;
                    }
                }
                foreach tx_wlsr(L_WLSR_TILES_X)
                {
                    if(tx==tx_wlsr)
                    {
                        wlsr = "WLSR_TILE";
                        break ;
                    }
                }
                foreach ty_clm({[2:15,17:30]})
                {
                    ty = ty_clm + rx * NUM_TILES_REGION ;

                    if(!(tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X && ty>=HSST_TILE_U_L_Y - 1))
                    {
                        if(!(tx>=PCIE_TILE_L_X && tx<=PCIE_TILE_R_X && ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y))
                        {
                            connect_MASK_WL2CLM(rx,tx,ty_clm,wlsr);
                        }
                    }
                }
                if(!(rx==NUM_REGION-1))
                {
                    ty = 31 + rx * NUM_TILES_REGION ;

                    if(!(tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X && ty>=HSST_TILE_U_L_Y - 1))
                    {
                        if(!(tx>=PCIE_TILE_L_X && tx<=PCIE_TILE_R_X && ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y))
                        {
                            connect_MASK_WL2CLM(rx,tx,31,wlsr);
                        }
                    }
                }
                if(!(rx==0))
                {
                    ty = 1 + rx * NUM_TILES_REGION ;

                    if(!(tx>=HSST_TILE_U_L_X && tx<HSST_TILE_U_R_X && ty>=HSST_TILE_U_L_Y - 1))
                    {
                        if(!(tx>=PCIE_TILE_L_X && tx<=PCIE_TILE_R_X && ty>=PCIE_TILE_L_Y && ty<PCIE_TILE_R_Y))
                        {
                            connect_MASK_WL2CLM(rx,tx,1,wlsr);
                        }
                    }
                }
            }
        }
    } // end region loop

     wlsr = "WLSR2_TILE" ;
    
    int ty_tmp1 ;

    foreach rx ( L_REGIONS )
    {
        foreach ty_tmp ( {L_CLM_TILES_PLL_Y} )
        {
            ty = ty_tmp - rx * NUM_TILES_REGION ;

            foreach ty_tmp1({[1:31]})
            {
                if(ty==ty_tmp1)
                {
                    connect_MASK_WL2CLM(rx,PLL_TILE_X,ty,wlsr);                                       
                }
            }
        }
    }
 
};//end of structure arch_nl connect_MASK_WL2CLM of PGL50H
/***************************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs;
use pgl50h_connect_wl_bl;

structure arch_nl connect_MASK_CLM2CLM of PGL50H
{
    int l_y[87:0] = {[92:79,77:63,62:48,46:32,31:17,15:2]};
    int l_x0[13:0]={19,18,17,16,15,12,11,10,9,8,5,4,3,2} ;
    int l_x1[10:0]={23,24,25,28,29,30,32,33,36,37,39} ;
    int l_x2[11:0]={56,55,54,53,50,49,47,46,43,42,41,40} ;
    int l_x3[14:0]={60,61,63,65,66,67,68,70,72,73,74,77,78,79,80} ;
    int l_x4[2:0]={26,27,28} ; // del
    int l_x5[6:0]={23,24,25,28,29,37,39} ;
    int l_x6[5:0]={23,24,25,28,29,37} ;
    int l_x7[2:0]={56,55,54} ;
    int l_x8[9:0]={23,24,25,28,29,30,32,33,36,37} ;

    int ty_plld=PLL0_TILE_Y ;
    int ty_pllu=PLL1_TILE_Y ;


    int ty, rx, index,index_y,f_access;

    foreach ty(L_CLM_TILES_Y)
    {
        foreach index({[13:0]})
        {
            connect_MASK_CLM2CLM_50h(index,ty,0,l_x0,l_x1,l_x2,l_x3,l_x4,l_x5,l_x6,l_x7,l_x8);
        }
        foreach index({[14:0]})
        {
            connect_MASK_CLM2CLM_50h(index,ty,3,l_x0,l_x1,l_x2,l_x3,l_x4,l_x5,l_x6,l_x7,l_x8);
        }
        if(ty>=HSST_TILE_U_L_Y-1)
        {
            foreach index({[2:0]})
            {
                connect_MASK_CLM2CLM_50h(index,ty,7,l_x0,l_x1,l_x2,l_x3,l_x4,l_x5,l_x6,l_x7,l_x8);
            }
        }
        else
        {
            foreach index({[11:0]})
            {
                connect_MASK_CLM2CLM_50h(index,ty,2,l_x0,l_x1,l_x2,l_x3,l_x4,l_x5,l_x6,l_x7,l_x8);
            }
        }

// For Pll 

        f_access = 0 ;

        if((ty>=PLL0_TILE_Y&&ty<=PLL0_TILE_Y+NUM_GRID_PLL_Y)||(ty>=PLL0_TILE_Y+NUM_TILES_REGION&&ty<=MID_TILE_REGION+NUM_TILES_REGION))
        {
            f_access = 1 ;
        }
        if(ty>=USCM0_TILE_Y&&ty<=USCM0_TILE_Y+3)
        {
            f_access = 1 ;
        }
        if(ty==ty_pllu+2*NUM_TILES_REGION)
        {
            f_access = 1 ;
        }
        if(ty==PIOMUX_TILE_Y_D)
        {
            f_access = 1 ;
        }
        if(f_access==1)
        {
            foreach index({[9:0]})
            {
                connect_MASK_CLM2CLM_50h(index,ty,8,l_x0,l_x1,l_x2,l_x3,l_x4,l_x5,l_x6,l_x7,l_x8);
            }
        }

        f_access = 0 ;

        if(ty>=ty_pllu+1*NUM_TILES_REGION&&ty<=ty_pllu+3+NUM_TILES_REGION)
        {
            f_access = 1 ;
        }
        if(ty>=ty_plld+2*NUM_TILES_REGION&&ty<=ty_plld+3+2*NUM_TILES_REGION)
        {
            f_access = 1 ;
        }
        if(f_access==1)
        {
            foreach index({[5:0]})
            {
                connect_MASK_CLM2CLM_50h(index,ty,6,l_x0,l_x1,l_x2,l_x3,l_x4,l_x5,l_x6,l_x7,l_x8);
            }
        }

        f_access = 0 ;

        if(ty>PLL0_TILE_Y+NUM_GRID_PLL_Y+1*NUM_TILES_REGION&&ty<PLL0_TILE_Y+2*NUM_TILES_REGION)
        {
            f_access = 1 ;
        }
        if(f_access==1)
        {
            foreach index({[6:0]})
            {
                connect_MASK_CLM2CLM_50h(index,ty,5,l_x0,l_x1,l_x2,l_x3,l_x4,l_x5,l_x6,l_x7,l_x8);
            }
        }

        f_access = 0 ;

        if((ty>2&&ty<=11)||(ty>=21&&ty<=29)||(ty>=34&&ty<=42)||(ty>=80&&ty<=83))
        {
            f_access = 1 ;
        }
        if(f_access==1)
        {
            foreach index({[10:0]})
            {
                connect_MASK_CLM2CLM_50h(index,ty,1,l_x0,l_x1,l_x2,l_x3,l_x4,l_x5,l_x6,l_x7,l_x8);
            }
        }
    }

};//end of structure arch_nl connect_MASK_CLM2CLM of PGL50H
/***************************************************************************************
****************************************************************************************/
library work;
use pgl_defs,pgl50h_defs;
use pgl_funcs_connect_gs_wl_100h;

structure arch_nl connect_MASK_CLM2BL of PGL50H
{
    int rx, f_begin, tx, f_srb,tx_blsr; 
    string blsr,mask_data;

    int f_y0,f_y1,f_y2,f_y3,f_y4,f_y5,f_y6,f_y7,f_y8,f_y9,f_y10,f_y11,f_y12,f_y13,f_y14,f_y15,f_y16,f_y17,f_y18,f_y19,f_y20,f_y21,f_y22,f_y23,f_y24,f_y25,f_y26,f_y27,f_y28,f_y29 ;

    blsr = "BLSR1_TILE" ;

    f_begin = NUM_TILE_START_Y ;

    f_srb = 0 ;

    foreach rx(L_REGIONS)
    {
        foreach tx({19,23,56,60})
        {
            blsr = (rx==0&&tx>PLL_TILE_X) ? "BLSR2_TILE" : "BLSR1_TILE" ;

            f_y0 = 1 ;
            f_y1 = 1 ;
            f_y2 = 1 ;
            f_y3 = 1 ;
            f_y4 = 1 ;
            f_y5 = 1 ;
            f_y6 = 1 ;
            f_y7 = 1 ;
            f_y8 = 1 ;
            f_y9 = 1 ;
            f_y10 = 1 ;
            f_y11 = 1 ;
            f_y12 = 1 ;
            f_y13 = 1 ;
            f_y14 = 1 ;
            f_y15 = 1 ;
            f_y16 = 1 ;
            f_y17 = 1 ;
            f_y18 = 1 ;
            f_y19 = 1 ;
            f_y20 = 1 ;
            f_y21 = 1 ;
            f_y22 = 1 ;
            f_y23 = 1 ;
            f_y24 = 1 ;
            f_y25 = 1 ;
            f_y26 = 1 ;
            f_y27 = 1 ;
            f_y28 = 1 ;
            f_y29 = 1 ; 

            if(rx==0)
            {
                f_y0 = 0 ;
            }
            if(rx==NUM_REGION-1)
            {
                f_y29 = 0 ;                
            }
            if(rx==NUM_REGION-1&&tx==23)
            {
                f_y20 = 0 ;
                f_y21 = 0 ;
                f_y22 = 0 ;
                f_y23 = 0 ;
                f_y24 = 0 ;
                f_y25 = 0 ;
                f_y26 = 0 ;
                f_y27 = 0 ;
                f_y28 = 0 ;
            }

            tx_blsr = (tx<=PLL_TILE_X) ? BLSR_TILE_X_L : BLSR_TILE_X_R ;
            mask_data = (tx<BLSR_TILE_X_L||(tx>PLL_TILE_X&&tx<BLSR_TILE_X_R)) ? "MASK_DATA_L" : "MASK_DATA_R" ;

            string tielo = (rx==0) ? "TIEL2" : "TIEL1" ;
            
            connect_MASK_CLM2BL_100h( tx,rx,tx_blsr,blsr,mask_data,f_srb,f_begin,tielo,f_y0,f_y1,f_y2,f_y3,f_y4,f_y5,f_y6,f_y7,f_y8,f_y9,f_y10,f_y11,f_y12,f_y13,f_y14,f_y15,f_y16,f_y17,f_y18,f_y19,f_y20,f_y21,f_y22,f_y23,f_y24,f_y25,f_y26,f_y27,f_y28,f_y29);
        }
    }
}

